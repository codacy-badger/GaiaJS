!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.gaia=e():t.gaia=e()}(global,function(){return function(t){var e,n=!0,r="de428608fc1031816ac5",i={},s=[],o=[];function a(t){var n=S[t];if(!n)return x;var r=function(r){return n.hot.active?(S[r]?-1===S[r].parents.indexOf(t)&&S[r].parents.push(t):(s=[t],e=r),-1===n.children.indexOf(r)&&n.children.push(r)):(console.warn("[HMR] unexpected require("+r+") from disposed module "+t),s=[]),x(r)},i=function(t){return{configurable:!0,enumerable:!0,get:function(){return x[t]},set:function(e){x[t]=e}}};for(var o in x)Object.prototype.hasOwnProperty.call(x,o)&&"e"!==o&&"t"!==o&&Object.defineProperty(r,o,i(o));return r.e=function(t){return"ready"===u&&h("prepare"),_++,x.e(t).then(e,function(t){throw e(),t});function e(){_--,"prepare"===u&&(v[t]||E(t),0===_&&0===d&&w())}},r.t=function(t,e){return 1&e&&(t=r(t)),x.t(t,-2&e)},r}var c=[],u="idle";function h(t){u=t;for(var e=0;e<c.length;e++)c[e].call(null,t)}var l,f,p,d=0,_=0,v={},m={},g={};function y(t){return+t+""===t?+t:t}function b(t){if("idle"!==u)throw new Error("check() is only allowed in idle status");return n=t,h("check"),function(){try{var t=require("./"+r+".hot-update.json")}catch(t){return Promise.resolve()}return Promise.resolve(t)}().then(function(t){if(!t)return h("idle"),null;m={},v={},g=t.c,p=t.h,h("prepare");var e=new Promise(function(t,e){l={resolve:t,reject:e}});return f={},E(0),"prepare"===u&&0===_&&0===d&&w(),e})}function E(t){g[t]?(m[t]=!0,d++,function(t){var e=require("./"+t+"."+r+".hot-update.js");!function(t,e){if(g[t]&&m[t]){for(var n in m[t]=!1,e)Object.prototype.hasOwnProperty.call(e,n)&&(f[n]=e[n]);0==--d&&0===_&&w()}}(e.id,e.modules)}(t)):v[t]=!0}function w(){h("ready");var t=l;if(l=null,t)if(n)Promise.resolve().then(function(){return O(n)}).then(function(e){t.resolve(e)},function(e){t.reject(e)});else{var e=[];for(var r in f)Object.prototype.hasOwnProperty.call(f,r)&&e.push(y(r));t.resolve(e)}}function O(e){if("ready"!==u)throw new Error("apply() is only allowed in ready status");var n,o,a,c,l;function d(t){for(var e=[t],n={},r=e.slice().map(function(t){return{chain:[t],id:t}});r.length>0;){var i=r.pop(),s=i.id,o=i.chain;if((c=S[s])&&!c.hot._selfAccepted){if(c.hot._selfDeclined)return{type:"self-declined",chain:o,moduleId:s};if(c.hot._main)return{type:"unaccepted",chain:o,moduleId:s};for(var a=0;a<c.parents.length;a++){var u=c.parents[a],h=S[u];if(h){if(h.hot._declinedDependencies[s])return{type:"declined",chain:o.concat([u]),moduleId:s,parentId:u};-1===e.indexOf(u)&&(h.hot._acceptedDependencies[s]?(n[u]||(n[u]=[]),_(n[u],[s])):(delete n[u],e.push(u),r.push({chain:o.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:t,outdatedModules:e,outdatedDependencies:n}}function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];-1===t.indexOf(r)&&t.push(r)}}e=e||{};var v={},m=[],b={},E=function(){console.warn("[HMR] unexpected require("+O.moduleId+") to disposed module")};for(var w in f)if(Object.prototype.hasOwnProperty.call(f,w)){var O;l=y(w);var C=!1,k=!1,T=!1,P="";switch((O=f[w]?d(l):{type:"disposed",moduleId:w}).chain&&(P="\nUpdate propagation: "+O.chain.join(" -> ")),O.type){case"self-declined":e.onDeclined&&e.onDeclined(O),e.ignoreDeclined||(C=new Error("Aborted because of self decline: "+O.moduleId+P));break;case"declined":e.onDeclined&&e.onDeclined(O),e.ignoreDeclined||(C=new Error("Aborted because of declined dependency: "+O.moduleId+" in "+O.parentId+P));break;case"unaccepted":e.onUnaccepted&&e.onUnaccepted(O),e.ignoreUnaccepted||(C=new Error("Aborted because "+l+" is not accepted"+P));break;case"accepted":e.onAccepted&&e.onAccepted(O),k=!0;break;case"disposed":e.onDisposed&&e.onDisposed(O),T=!0;break;default:throw new Error("Unexception type "+O.type)}if(C)return h("abort"),Promise.reject(C);if(k)for(l in b[l]=f[l],_(m,O.outdatedModules),O.outdatedDependencies)Object.prototype.hasOwnProperty.call(O.outdatedDependencies,l)&&(v[l]||(v[l]=[]),_(v[l],O.outdatedDependencies[l]));T&&(_(m,[O.moduleId]),b[l]=E)}var I,N=[];for(o=0;o<m.length;o++)l=m[o],S[l]&&S[l].hot._selfAccepted&&N.push({module:l,errorHandler:S[l].hot._selfAccepted});h("dispose"),Object.keys(g).forEach(function(t){!1===g[t]&&function(t){delete installedChunks[t]}(t)});for(var A,j,R=m.slice();R.length>0;)if(l=R.pop(),c=S[l]){var D={},L=c.hot._disposeHandlers;for(a=0;a<L.length;a++)(n=L[a])(D);for(i[l]=D,c.hot.active=!1,delete S[l],delete v[l],a=0;a<c.children.length;a++){var M=S[c.children[a]];M&&(I=M.parents.indexOf(l))>=0&&M.parents.splice(I,1)}}for(l in v)if(Object.prototype.hasOwnProperty.call(v,l)&&(c=S[l]))for(j=v[l],a=0;a<j.length;a++)A=j[a],(I=c.children.indexOf(A))>=0&&c.children.splice(I,1);for(l in h("apply"),r=p,b)Object.prototype.hasOwnProperty.call(b,l)&&(t[l]=b[l]);var U=null;for(l in v)if(Object.prototype.hasOwnProperty.call(v,l)&&(c=S[l])){j=v[l];var B=[];for(o=0;o<j.length;o++)if(A=j[o],n=c.hot._acceptedDependencies[A]){if(-1!==B.indexOf(n))continue;B.push(n)}for(o=0;o<B.length;o++){n=B[o];try{n(j)}catch(t){e.onErrored&&e.onErrored({type:"accept-errored",moduleId:l,dependencyId:j[o],error:t}),e.ignoreErrored||U||(U=t)}}}for(o=0;o<N.length;o++){var H=N[o];l=H.module,s=[l];try{x(l)}catch(t){if("function"==typeof H.errorHandler)try{H.errorHandler(t)}catch(n){e.onErrored&&e.onErrored({type:"self-accept-error-handler-errored",moduleId:l,error:n,originalError:t}),e.ignoreErrored||U||(U=n),U||(U=t)}else e.onErrored&&e.onErrored({type:"self-accept-errored",moduleId:l,error:t}),e.ignoreErrored||U||(U=t)}}return U?(h("fail"),Promise.reject(U)):(h("idle"),new Promise(function(t){t(m)}))}var S={};function x(n){if(S[n])return S[n].exports;var r=S[n]={i:n,l:!1,exports:{},hot:function(t){var n={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:e!==t,active:!0,accept:function(t,e){if(void 0===t)n._selfAccepted=!0;else if("function"==typeof t)n._selfAccepted=t;else if("object"==typeof t)for(var r=0;r<t.length;r++)n._acceptedDependencies[t[r]]=e||function(){};else n._acceptedDependencies[t]=e||function(){}},decline:function(t){if(void 0===t)n._selfDeclined=!0;else if("object"==typeof t)for(var e=0;e<t.length;e++)n._declinedDependencies[t[e]]=!0;else n._declinedDependencies[t]=!0},dispose:function(t){n._disposeHandlers.push(t)},addDisposeHandler:function(t){n._disposeHandlers.push(t)},removeDisposeHandler:function(t){var e=n._disposeHandlers.indexOf(t);e>=0&&n._disposeHandlers.splice(e,1)},check:b,apply:O,status:function(t){if(!t)return u;c.push(t)},addStatusHandler:function(t){c.push(t)},removeStatusHandler:function(t){var e=c.indexOf(t);e>=0&&c.splice(e,1)},data:i[t]};return e=void 0,n}(n),parents:(o=s,s=[],o),children:[]};return t[n].call(r.exports,r,r.exports,a(n)),r.l=!0,r.exports}return x.m=t,x.c=S,x.d=function(t,e,n){x.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},x.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},x.t=function(t,e){if(1&e&&(t=x(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(x.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)x.d(n,r,function(e){return t[e]}.bind(null,r));return n},x.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return x.d(e,"a",e),e},x.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},x.p="",x.h=function(){return r},a(53)(x.s=53)}([function(t,e,n){try{var r=n(2);if("function"!=typeof r.inherits)throw"";t.exports=r.inherits}catch(e){t.exports=n(60)}},function(t,e){t.exports=require("events")},function(t,e){t.exports=require("util")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(52),i=function(){function t(t){this.name=t}return t.isNested=function(t){return t.hasClass("block")||"TD"===t.prop("tagName")},t.renderElements=function(t,e,n){var i=new r.Renderer(t);Array.from(e.elements).map(function(t){return Object.assign(t,{position:e.position})}).forEach(function(t){return i.render(t,n)})},t}();e.MarkupComponent=i},function(t,e,n){"use strict";var r=n(15);t.exports={getOrigin:function(t){if(!t)return null;var e=new r(t);if("file:"===e.protocol)return null;var n=e.port;return n||(n="https:"===e.protocol?"443":"80"),e.protocol+"//"+e.hostname+":"+n},isOriginEqual:function(t,e){return this.getOrigin(t)===this.getOrigin(e)},isSchemeEqual:function(t,e){return t.split(":")[0]===e.split(":")[0]},addPath:function(t,e){var n=t.split("?");return n[0]+e+(n[1]?"?"+n[1]:"")},addQuery:function(t,e){return t+(-1===t.indexOf("?")?"?"+e:"&"+e)}}},function(t,e,n){(function(t){var r;/*! JSON v3.3.2 | http://bestiejs.github.io/json3 | Copyright 2012-2014, Kit Cambridge | http://kit.mit-license.org */ /*! JSON v3.3.2 | http://bestiejs.github.io/json3 | Copyright 2012-2014, Kit Cambridge | http://kit.mit-license.org */(function(){var i=n(88),s={function:!0,object:!0},o=s[typeof e]&&e&&!e.nodeType&&e,a=s[typeof window]&&window||this,c=o&&s[typeof t]&&t&&!t.nodeType&&"object"==typeof global&&global;function u(t,e){t||(t=a.Object()),e||(e=a.Object());var n=t.Number||a.Number,r=t.String||a.String,i=t.Object||a.Object,o=t.Date||a.Date,c=t.SyntaxError||a.SyntaxError,h=t.TypeError||a.TypeError,l=t.Math||a.Math,f=t.JSON||a.JSON;"object"==typeof f&&f&&(e.stringify=f.stringify,e.parse=f.parse);var p,d,_,v=i.prototype,m=v.toString,g=new o(-0xc782b5b800cec);try{g=-109252==g.getUTCFullYear()&&0===g.getUTCMonth()&&1===g.getUTCDate()&&10==g.getUTCHours()&&37==g.getUTCMinutes()&&6==g.getUTCSeconds()&&708==g.getUTCMilliseconds()}catch(t){}function y(t){if(y[t]!==_)return y[t];var i;if("bug-string-char-index"==t)i="a"!="a"[0];else if("json"==t)i=y("json-stringify")&&y("json-parse");else{var s,a='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var c=e.stringify,u="function"==typeof c&&g;if(u){(s=function(){return 1}).toJSON=s;try{u="0"===c(0)&&"0"===c(new n)&&'""'==c(new r)&&c(m)===_&&c(_)===_&&c()===_&&"1"===c(s)&&"[1]"==c([s])&&"[null]"==c([_])&&"null"==c(null)&&"[null,null,null]"==c([_,m,null])&&c({a:[s,!0,!1,null,"\0\b\n\f\r\t"]})==a&&"1"===c(null,s)&&"[\n 1,\n 2\n]"==c([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==c(new o(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==c(new o(864e13))&&'"-000001-01-01T00:00:00.000Z"'==c(new o(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==c(new o(-1))}catch(t){u=!1}}i=u}if("json-parse"==t){var h=e.parse;if("function"==typeof h)try{if(0===h("0")&&!h(!1)){var l=5==(s=h(a)).a.length&&1===s.a[0];if(l){try{l=!h('"\t"')}catch(t){}if(l)try{l=1!==h("01")}catch(t){}if(l)try{l=1!==h("1.")}catch(t){}}}}catch(t){l=!1}i=l}}return y[t]=!!i}if(!y("json")){var b=y("bug-string-char-index");if(!g)var E=l.floor,w=[0,31,59,90,120,151,181,212,243,273,304,334],O=function(t,e){return w[e]+365*(t-1970)+E((t-1969+(e=+(e>1)))/4)-E((t-1901+e)/100)+E((t-1601+e)/400)};if((p=v.hasOwnProperty)||(p=function(t){var e,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=m?p=function(t){var e=this.__proto__,n=t in(this.__proto__=null,this);return this.__proto__=e,n}:(e=n.constructor,p=function(t){var n=(this.constructor||e).prototype;return t in this&&!(t in n&&this[t]===n[t])}),n=null,p.call(this,t)}),d=function(t,e){var n,r,i,o=0;for(i in(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n)p.call(r,i)&&o++;return n=r=null,o?d=2==o?function(t,e){var n,r={},i="[object Function]"==m.call(t);for(n in t)i&&"prototype"==n||p.call(r,n)||!(r[n]=1)||!p.call(t,n)||e(n)}:function(t,e){var n,r,i="[object Function]"==m.call(t);for(n in t)i&&"prototype"==n||!p.call(t,n)||(r="constructor"===n)||e(n);(r||p.call(t,n="constructor"))&&e(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],d=function(t,e){var n,i,o="[object Function]"==m.call(t),a=!o&&"function"!=typeof t.constructor&&s[typeof t.hasOwnProperty]&&t.hasOwnProperty||p;for(n in t)o&&"prototype"==n||!a.call(t,n)||e(n);for(i=r.length;n=r[--i];a.call(t,n)&&e(n));}),d(t,e)},!y("json-stringify")){var S={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},x=function(t,e){return("000000"+(e||0)).slice(-t)},C=function(t){for(var e='"',n=0,r=t.length,i=!b||r>10,s=i&&(b?t.split(""):t);n<r;n++){var o=t.charCodeAt(n);switch(o){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=S[o];break;default:if(o<32){e+="\\u00"+x(2,o.toString(16));break}e+=i?s[n]:t.charAt(n)}}return e+'"'},k=function(t,e,n,r,i,s,o){var a,c,u,l,f,v,g,y,b,w,S,T,P,I,N,A;try{a=e[t]}catch(t){}if("object"==typeof a&&a)if("[object Date]"!=(c=m.call(a))||p.call(a,"toJSON"))"function"==typeof a.toJSON&&("[object Number]"!=c&&"[object String]"!=c&&"[object Array]"!=c||p.call(a,"toJSON"))&&(a=a.toJSON(t));else if(a>-1/0&&a<1/0){if(O){for(f=E(a/864e5),u=E(f/365.2425)+1970-1;O(u+1,0)<=f;u++);for(l=E((f-O(u,0))/30.42);O(u,l+1)<=f;l++);f=1+f-O(u,l),g=E((v=(a%864e5+864e5)%864e5)/36e5)%24,y=E(v/6e4)%60,b=E(v/1e3)%60,w=v%1e3}else u=a.getUTCFullYear(),l=a.getUTCMonth(),f=a.getUTCDate(),g=a.getUTCHours(),y=a.getUTCMinutes(),b=a.getUTCSeconds(),w=a.getUTCMilliseconds();a=(u<=0||u>=1e4?(u<0?"-":"+")+x(6,u<0?-u:u):x(4,u))+"-"+x(2,l+1)+"-"+x(2,f)+"T"+x(2,g)+":"+x(2,y)+":"+x(2,b)+"."+x(3,w)+"Z"}else a=null;if(n&&(a=n.call(e,t,a)),null===a)return"null";if("[object Boolean]"==(c=m.call(a)))return""+a;if("[object Number]"==c)return a>-1/0&&a<1/0?""+a:"null";if("[object String]"==c)return C(""+a);if("object"==typeof a){for(I=o.length;I--;)if(o[I]===a)throw h();if(o.push(a),S=[],N=s,s+=i,"[object Array]"==c){for(P=0,I=a.length;P<I;P++)T=k(P,a,n,r,i,s,o),S.push(T===_?"null":T);A=S.length?i?"[\n"+s+S.join(",\n"+s)+"\n"+N+"]":"["+S.join(",")+"]":"[]"}else d(r||a,function(t){var e=k(t,a,n,r,i,s,o);e!==_&&S.push(C(t)+":"+(i?" ":"")+e)}),A=S.length?i?"{\n"+s+S.join(",\n"+s)+"\n"+N+"}":"{"+S.join(",")+"}":"{}";return o.pop(),A}};e.stringify=function(t,e,n){var r,i,o,a;if(s[typeof e]&&e)if("[object Function]"==(a=m.call(e)))i=e;else if("[object Array]"==a){o={};for(var c,u=0,h=e.length;u<h;c=e[u++],("[object String]"==(a=m.call(c))||"[object Number]"==a)&&(o[c]=1));}if(n)if("[object Number]"==(a=m.call(n))){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else"[object String]"==a&&(r=n.length<=10?n:n.slice(0,10));return k("",((c={})[""]=t,c),i,o,r,"",[])}}if(!y("json-parse")){var T,P,I=r.fromCharCode,N={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},A=function(){throw T=P=null,c()},j=function(){for(var t,e,n,r,i,s=P,o=s.length;T<o;)switch(i=s.charCodeAt(T)){case 9:case 10:case 13:case 32:T++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=b?s.charAt(T):s[T],T++,t;case 34:for(t="@",T++;T<o;)if((i=s.charCodeAt(T))<32)A();else if(92==i)switch(i=s.charCodeAt(++T)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=N[i],T++;break;case 117:for(e=++T,n=T+4;T<n;T++)(i=s.charCodeAt(T))>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=70||A();t+=I("0x"+s.slice(e,T));break;default:A()}else{if(34==i)break;for(i=s.charCodeAt(T),e=T;i>=32&&92!=i&&34!=i;)i=s.charCodeAt(++T);t+=s.slice(e,T)}if(34==s.charCodeAt(T))return T++,t;A();default:if(e=T,45==i&&(r=!0,i=s.charCodeAt(++T)),i>=48&&i<=57){for(48==i&&(i=s.charCodeAt(T+1))>=48&&i<=57&&A(),r=!1;T<o&&(i=s.charCodeAt(T))>=48&&i<=57;T++);if(46==s.charCodeAt(T)){for(n=++T;n<o&&(i=s.charCodeAt(n))>=48&&i<=57;n++);n==T&&A(),T=n}if(101==(i=s.charCodeAt(T))||69==i){for(43!=(i=s.charCodeAt(++T))&&45!=i||T++,n=T;n<o&&(i=s.charCodeAt(n))>=48&&i<=57;n++);n==T&&A(),T=n}return+s.slice(e,T)}if(r&&A(),"true"==s.slice(T,T+4))return T+=4,!0;if("false"==s.slice(T,T+5))return T+=5,!1;if("null"==s.slice(T,T+4))return T+=4,null;A()}return"$"},R=function(t){var e,n;if("$"==t&&A(),"string"==typeof t){if("@"==(b?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];"]"!=(t=j());n||(n=!0))n&&(","==t?"]"==(t=j())&&A():A()),","==t&&A(),e.push(R(t));return e}if("{"==t){for(e={};"}"!=(t=j());n||(n=!0))n&&(","==t?"}"==(t=j())&&A():A()),","!=t&&"string"==typeof t&&"@"==(b?t.charAt(0):t[0])&&":"==j()||A(),e[t.slice(1)]=R(j());return e}A()}return t},D=function(t,e,n){var r=L(t,e,n);r===_?delete t[e]:t[e]=r},L=function(t,e,n){var r,i=t[e];if("object"==typeof i&&i)if("[object Array]"==m.call(i))for(r=i.length;r--;)D(i,r,n);else d(i,function(t){D(i,t,n)});return n.call(t,e,i)};e.parse=function(t,e){var n,r;return T=0,P=""+t,n=R(j()),"$"!=j()&&A(),T=P=null,e&&"[object Function]"==m.call(e)?L(((r={})[""]=n,r),"",e):n}}}return e.runInContext=u,e}if(!c||c.global!==c&&c.window!==c&&c.self!==c||(a=c),o&&!i)u(a,o);else{var h=a.JSON,l=a.JSON3,f=!1,p=u(a,a.JSON3={noConflict:function(){return f||(f=!0,a.JSON=h,a.JSON3=l,h=l=null),p}});a.JSON={parse:p.parse,stringify:p.stringify}}i&&(void 0===(r=function(){return p}.call(e,n,e,t))||(t.exports=r))}).call(this)}).call(this,n(87)(t))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(112);var r=function(){function t(t){this.text=t}return t.prototype.render=function(){var t=document.createElement("div");return t.classList.add("inline-text"),t.appendChild(document.createTextNode(this.text)),t},t}();e.InlineText=r},function(t,e,n){"use strict";var r=n(9),i={},s=!1,o=global.chrome&&global.chrome.app&&global.chrome.app.runtime;t.exports={attachEvent:function(t,e){void 0!==global.addEventListener?global.addEventListener(t,e,!1):global.document&&global.attachEvent&&(global.document.attachEvent("on"+t,e),global.attachEvent("on"+t,e))},detachEvent:function(t,e){void 0!==global.addEventListener?global.removeEventListener(t,e,!1):global.document&&global.detachEvent&&(global.document.detachEvent("on"+t,e),global.detachEvent("on"+t,e))},unloadAdd:function(t){if(o)return null;var e=r.string(8);return i[e]=t,s&&setTimeout(this.triggerUnloadCallbacks,0),e},unloadDel:function(t){t in i&&delete i[t]},triggerUnloadCallbacks:function(){for(var t in i)i[t](),delete i[t]}},o||t.exports.attachEvent("unload",function(){s||(s=!0,t.exports.triggerUnloadCallbacks())})},function(t,e,n){"use strict";var r=n(1).EventEmitter,i=n(2),s=n(63),o=n(22),a=n(64),c=function(t,e,n){r.call(this),c.validateOptions(n||{},["maxLength","masking","requireMasking","protocols"]),this._request=t,this._reader=new a,this._options=n||{},this._maxLength=this._options.maxLength||this.MAX_LENGTH,this._headers=new o,this.__queue=[],this.readyState=0,this.url=e,this.io=new s.IO(this),this.messages=new s.Messages(this),this._bindEventListeners()};i.inherits(c,r),c.validateOptions=function(t,e){for(var n in t)if(e.indexOf(n)<0)throw new Error("Unrecognized option: "+n)};var u={MAX_LENGTH:67108863,STATES:["connecting","open","closing","closed"],_bindEventListeners:function(){var t=this;this.messages.on("error",function(){}),this.on("message",function(e){var n=t.messages;n.readable&&n.emit("data",e.data)}),this.on("error",function(e){var n=t.messages;n.readable&&n.emit("error",e)}),this.on("close",function(){var e=t.messages;e.readable&&(e.readable=e.writable=!1,e.emit("end"))})},getState:function(){return this.STATES[this.readyState]||null},addExtension:function(t){return!1},setHeader:function(t,e){return!(this.readyState>0||(this._headers.set(t,e),0))},start:function(){if(0!==this.readyState)return!1;var t=this._handshakeResponse();return!!t&&(this._write(t),-1!==this._stage&&this._open(),!0)},text:function(t){return this.frame(t)},binary:function(t){return!1},ping:function(){return!1},pong:function(){return!1},close:function(t,e){return 1===this.readyState&&(this.readyState=3,this.emit("close",new c.CloseEvent(null,null)),!0)},_open:function(){this.readyState=1,this.__queue.forEach(function(t){this.frame.apply(this,t)},this),this.__queue=[],this.emit("open",new c.OpenEvent)},_queue:function(t){return this.__queue.push(t),!0},_write:function(t){var e=this.io;e.readable&&e.emit("data",t)}};for(var h in u)c.prototype[h]=u[h];c.ConnectEvent=function(){},c.OpenEvent=function(){},c.CloseEvent=function(t,e){this.code=t,this.reason=e},c.MessageEvent=function(t){this.data=t},c.PingEvent=function(t){this.data=t},c.PongEvent=function(t){this.data=t},t.exports=c},function(t,e,n){"use strict";var r=n(14);t.exports={string:function(t){for(var e="abcdefghijklmnopqrstuvwxyz012345".length,n=r.randomBytes(t),i=[],s=0;s<t;s++)i.push("abcdefghijklmnopqrstuvwxyz012345".substr(n[s]%e,1));return i.join("")},number:function(t){return Math.floor(Math.random()*t)},numberString:function(t){var e=(""+(t-1)).length;return(new Array(e+1).join("0")+this.number(t)).slice(-e)}}},function(t,e,n){"use strict";var r=n(0),i=n(4),s=n(38),o=function(){};function a(t,e,n,r){s.call(this,t,e,function(t){return function(e,n,r){o("create ajax sender",e,n);var s={};"string"==typeof n&&(s.headers={"Content-type":"text/plain"});var a=i.addPath(e,"/xhr_send"),c=new t("POST",a,n,s);return c.once("finish",function(t){if(o("finish",t),c=null,200!==t&&204!==t)return r(new Error("http status "+t));r()}),function(){o("abort"),c.close(),c=null;var t=new Error("Aborted");t.code=1e3,r(t)}}}(r),n,r)}r(a,s),t.exports=a},function(t,e,n){"use strict";var r=n(0),i=n(39);function s(t,e,n){i.call(this,t,e,n,{noCredentials:!0})}r(s,i),s.enabled=i.enabled,t.exports=s},function(t,e,n){"use strict";t.exports={isOpera:function(){return global.navigator&&/opera/i.test(global.navigator.userAgent)},isKonqueror:function(){return global.navigator&&/konqueror/i.test(global.navigator.userAgent)},hasDomain:function(){if(!global.document)return!0;try{return!!global.document.domain}catch(t){return!1}}}},function(t,e,n){"use strict";var r=n(7),i=n(5),s=n(12);t.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){t.exports.WPrefix in global||(global[t.exports.WPrefix]={})},postMessage:function(e,n){global.parent!==global&&global.parent.postMessage(i.stringify({windowId:t.exports.currentWindowId,type:e,data:n||""}),"*")},createIframe:function(t,e){var n,i,s=global.document.createElement("iframe"),o=function(){clearTimeout(n);try{s.onload=null}catch(t){}s.onerror=null},a=function(){s&&(o(),setTimeout(function(){s&&s.parentNode.removeChild(s),s=null},0),r.unloadDel(i))},c=function(t){s&&(a(),e(t))};return s.src=t,s.style.display="none",s.style.position="absolute",s.onerror=function(){c("onerror")},s.onload=function(){clearTimeout(n),n=setTimeout(function(){c("onload timeout")},2e3)},global.document.body.appendChild(s),n=setTimeout(function(){c("timeout")},15e3),i=r.unloadAdd(a),{post:function(t,e){setTimeout(function(){try{s&&s.contentWindow&&s.contentWindow.postMessage(t,e)}catch(t){}},0)},cleanup:a,loaded:o}},createHtmlfile:function(e,n){var i,s,o,a=["Active"].concat("Object").join("X"),c=new global[a]("htmlfile"),u=function(){clearTimeout(i),o.onerror=null},h=function(){c&&(u(),r.unloadDel(s),o.parentNode.removeChild(o),o=c=null,CollectGarbage())},l=function(t){c&&(h(),n(t))};c.open(),c.write('<html><script>document.domain="'+global.document.domain+'";<\/script></html>'),c.close(),c.parentWindow[t.exports.WPrefix]=global[t.exports.WPrefix];var f=c.createElement("div");return c.body.appendChild(f),o=c.createElement("iframe"),f.appendChild(o),o.src=e,o.onerror=function(){l("onerror")},i=setTimeout(function(){l("timeout")},15e3),s=r.unloadAdd(h),{post:function(t,e){try{setTimeout(function(){o&&o.contentWindow&&o.contentWindow.postMessage(t,e)},0)}catch(t){}},cleanup:h,loaded:u}}},t.exports.iframeEnabled=!1,global.document&&(t.exports.iframeEnabled=("function"==typeof global.postMessage||"object"==typeof global.postMessage)&&!s.isKonqueror())},function(t,e){t.exports=require("crypto")},function(t,e,n){"use strict";var r=n(58),i=n(59),s=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,o=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,a=[["#","hash"],["?","query"],function(t){return t.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],c={hash:1,query:1};function u(t){var e,n=global&&global.location||{},r={},i=typeof(t=t||n);if("blob:"===t.protocol)r=new l(unescape(t.pathname),{});else if("string"===i)for(e in r=new l(t,{}),c)delete r[e];else if("object"===i){for(e in t)e in c||(r[e]=t[e]);void 0===r.slashes&&(r.slashes=o.test(t.href))}return r}function h(t){var e=s.exec(t);return{protocol:e[1]?e[1].toLowerCase():"",slashes:!!e[2],rest:e[3]}}function l(t,e,n){if(!(this instanceof l))return new l(t,e,n);var s,o,c,f,p,d,_=a.slice(),v=typeof e,m=this,g=0;for("object"!==v&&"string"!==v&&(n=e,e=null),n&&"function"!=typeof n&&(n=i.parse),e=u(e),s=!(o=h(t||"")).protocol&&!o.slashes,m.slashes=o.slashes||s&&e.slashes,m.protocol=o.protocol||e.protocol||"",t=o.rest,o.slashes||(_[3]=[/(.*)/,"pathname"]);g<_.length;g++)"function"!=typeof(f=_[g])?(c=f[0],d=f[1],c!=c?m[d]=t:"string"==typeof c?~(p=t.indexOf(c))&&("number"==typeof f[2]?(m[d]=t.slice(0,p),t=t.slice(p+f[2])):(m[d]=t.slice(p),t=t.slice(0,p))):(p=c.exec(t))&&(m[d]=p[1],t=t.slice(0,p.index)),m[d]=m[d]||s&&f[3]&&e[d]||"",f[4]&&(m[d]=m[d].toLowerCase())):t=f(t);n&&(m.query=n(m.query)),s&&e.slashes&&"/"!==m.pathname.charAt(0)&&(""!==m.pathname||""!==e.pathname)&&(m.pathname=function(t,e){for(var n=(e||"/").split("/").slice(0,-1).concat(t.split("/")),r=n.length,i=n[r-1],s=!1,o=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),o++):o&&(0===r&&(s=!0),n.splice(r,1),o--);return s&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}(m.pathname,e.pathname)),r(m.port,m.protocol)||(m.host=m.hostname,m.port=""),m.username=m.password="",m.auth&&(f=m.auth.split(":"),m.username=f[0]||"",m.password=f[1]||""),m.origin=m.protocol&&m.host&&"file:"!==m.protocol?m.protocol+"//"+m.host:"null",m.href=m.toString()}l.prototype={set:function(t,e,n){var s=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(n||i.parse)(e)),s[t]=e;break;case"port":s[t]=e,r(e,s.protocol)?e&&(s.host=s.hostname+":"+e):(s.host=s.hostname,s[t]="");break;case"hostname":s[t]=e,s.port&&(e+=":"+s.port),s.host=e;break;case"host":s[t]=e,/:\d+$/.test(e)?(e=e.split(":"),s.port=e.pop(),s.hostname=e.join(":")):(s.hostname=e,s.port="");break;case"protocol":s.protocol=e.toLowerCase(),s.slashes=!n;break;case"pathname":case"hash":if(e){var o="pathname"===t?"/":"#";s[t]=e.charAt(0)!==o?o+e:e}else s[t]=e;break;default:s[t]=e}for(var c=0;c<a.length;c++){var u=a[c];u[4]&&(s[u[1]]=s[u[1]].toLowerCase())}return s.origin=s.protocol&&s.host&&"file:"!==s.protocol?s.protocol+"//"+s.host:"null",s.href=s.toString(),s},toString:function(t){t&&"function"==typeof t||(t=i.stringify);var e,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var s=r+(n.slashes?"//":"");return n.username&&(s+=n.username,n.password&&(s+=":"+n.password),s+="@"),s+=n.host+n.pathname,(e="object"==typeof n.query?t(n.query):n.query)&&(s+="?"!==e.charAt(0)?"?"+e:e),n.hash&&(s+=n.hash),s}},l.extractProtocol=h,l.location=u,l.qs=i,t.exports=l},function(t,e,n){"use strict";var r=n(8),i=n(65),s=n(76),o={client:function(t,e){return void 0===(e=e||{}).masking&&(e.masking=!0),new i(t,e)},server:function(t){return void 0===(t=t||{}).requireMasking&&(t.requireMasking=!0),new s(t)},http:function(){return s.http.apply(s,arguments)},isSecureRequest:function(t){return s.isSecureRequest(t)},isWebSocket:function(t){if("GET"!==t.method)return!1;var e=t.headers.connection||"",n=t.headers.upgrade||"";return"GET"===t.method&&e.toLowerCase().split(/ *, */).indexOf("upgrade")>=0&&"websocket"===n.toLowerCase()},validateOptions:function(t,e){r.validateOptions(t,e)}};t.exports=o},function(t,e){t.exports=require("stream")},function(t,e){t.exports=require("url")},function(t,e){var n=function(t,e){for(var n in this.type=t,e)this[n]=e[n]};n.prototype.initEvent=function(t,e,n){this.type=t,this.bubbles=e,this.cancelable=n},n.prototype.stopPropagation=function(){},n.prototype.preventDefault=function(){},n.CAPTURING_PHASE=1,n.AT_TARGET=2,n.BUBBLING_PHASE=3,t.exports=n},function(t,e,n){"use strict";var r=n(0),i=n(1).EventEmitter,s=function(){};function o(t,e){s(t),i.call(this);var n=this;this.bufferPosition=0,this.xo=new e("POST",t,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(t,e){s("finish",t,e),n._chunkHandler(t,e),n.xo=null;var r=200===t?"network":"permanent";s("close",r),n.emit("close",null,r),n._cleanup()})}r(o,i),o.prototype._chunkHandler=function(t,e){if(s("_chunkHandler",t),200===t&&e)for(var n=-1;;this.bufferPosition+=n+1){var r=e.slice(this.bufferPosition);if(-1===(n=r.indexOf("\n")))break;var i=r.slice(0,n);i&&(s("message",i),this.emit("message",i))}},o.prototype._cleanup=function(){s("_cleanup"),this.removeAllListeners()},o.prototype.abort=function(){s("abort"),this.xo&&(this.xo.close(),s("close"),this.emit("close",null,"user"),this.xo=null),this._cleanup()},t.exports=o},function(t,e,n){"use strict";var r=n(0),i=n(39);function s(t,e,n,r){i.call(this,t,e,n,r)}r(s,i),s.enabled=i.enabled&&i.supportsCORS,t.exports=s},function(t,e,n){"use strict";var r=function(){this.clear()};r.prototype.ALLOWED_DUPLICATES=["set-cookie","set-cookie2","warning","www-authenticate"],r.prototype.clear=function(){this._sent={},this._lines=[]},r.prototype.set=function(t,e){if(void 0!==e){t=this._strip(t),e=this._strip(e);var n=t.toLowerCase();(!this._sent.hasOwnProperty(n)||this.ALLOWED_DUPLICATES.indexOf(n)>=0)&&(this._sent[n]=!0,this._lines.push(t+": "+e+"\r\n"))}},r.prototype.toString=function(){return this._lines.join("")},r.prototype._strip=function(t){return t.toString().replace(/^ */,"").replace(/ *$/,"")},t.exports=r},function(t,e,n){"use strict";var r=n(66).HTTPParser,i=process.version.match(/[0-9]+/g).map(function(t){return parseInt(t,10)}),s={request:r.REQUEST||"request",response:r.RESPONSE||"response"},o=function(t){this._type=t,this._parser=new r(s[t]),this._complete=!1,this.headers={};var e=null,n=this;this._parser.onHeaderField=function(t,n,r){e=t.toString("utf8",n,n+r).toLowerCase()},this._parser.onHeaderValue=function(t,r,i){var s=t.toString("utf8",r,r+i);n.headers.hasOwnProperty(e)?n.headers[e]+=", "+s:n.headers[e]=s},this._parser.onHeadersComplete=this._parser[r.kOnHeadersComplete]=function(t,e,r,i,s,a){var c=arguments[0];if("object"==typeof c&&(i=c.method,s=c.url,a=c.statusCode,r=c.headers),n.method="number"==typeof i?o.METHODS[i]:i,n.statusCode=a,n.url=s,r){for(var u,h,l=0,f=r.length;l<f;l+=2)u=r[l].toLowerCase(),h=r[l+1],n.headers.hasOwnProperty(u)?n.headers[u]+=", "+h:n.headers[u]=h;n._complete=!0}}};o.METHODS={0:"DELETE",1:"GET",2:"HEAD",3:"POST",4:"PUT",5:"CONNECT",6:"OPTIONS",7:"TRACE",8:"COPY",9:"LOCK",10:"MKCOL",11:"MOVE",12:"PROPFIND",13:"PROPPATCH",14:"SEARCH",15:"UNLOCK",16:"BIND",17:"REBIND",18:"UNBIND",19:"ACL",20:"REPORT",21:"MKACTIVITY",22:"CHECKOUT",23:"MERGE",24:"M-SEARCH",25:"NOTIFY",26:"SUBSCRIBE",27:"UNSUBSCRIBE",28:"PATCH",29:"PURGE",30:"MKCALENDAR",31:"LINK",32:"UNLINK"},0===i[0]&&12===i[1]&&(o.METHODS[16]="REPORT",o.METHODS[17]="MKACTIVITY",o.METHODS[18]="CHECKOUT",o.METHODS[19]="MERGE",o.METHODS[20]="M-SEARCH",o.METHODS[21]="NOTIFY",o.METHODS[22]="SUBSCRIBE",o.METHODS[23]="UNSUBSCRIBE",o.METHODS[24]="PATCH",o.METHODS[25]="PURGE"),o.prototype.isComplete=function(){return this._complete},o.prototype.parse=function(t){var e=this._parser.execute(t,0,t.length);if("number"!=typeof e)return this.error=e,void(this._complete=!0);0===i[0]&&i[1]<6&&(e+=1),this._complete&&(this.body=e<t.length?t.slice(e):new Buffer(0))},t.exports=o},function(t,e,n){var r=n(17).Stream,i=n(2),s=n(16),o=n(37),a=n(19),c=function(t){t=t||{},s.validateOptions(t,["headers","extensions","maxLength","ping","proxy","tls","ca"]),this.readable=this.writable=!0;var e=t.headers;if(e)for(var n in e)this._driver.setHeader(n,e[n]);var r=t.extensions;r&&[].concat(r).forEach(this._driver.addExtension,this._driver),this._ping=t.ping,this._pingId=0,this.readyState=c.CONNECTING,this.bufferedAmount=0,this.protocol="",this.url=this._driver.url,this.version=this._driver.version;var i=this;this._driver.on("open",function(t){i._open()}),this._driver.on("message",function(t){i._receiveMessage(t.data)}),this._driver.on("close",function(t){i._beginClose(t.reason,t.code)}),this._driver.on("error",function(t){i._emitError(t.message)}),this.on("error",function(){}),this._driver.messages.on("drain",function(){i.emit("drain")}),this._ping&&(this._pingTimer=setInterval(function(){i._pingId+=1,i.ping(i._pingId.toString())},1e3*this._ping)),this._configureStream(),this._proxy||(this._stream.pipe(this._driver.io),this._driver.io.pipe(this._stream))};i.inherits(c,r),c.CONNECTING=0,c.OPEN=1,c.CLOSING=2,c.CLOSED=3,c.CLOSE_TIMEOUT=3e4;var u={write:function(t){return this.send(t)},end:function(t){void 0!==t&&this.send(t),this.close()},pause:function(){return this._driver.messages.pause()},resume:function(){return this._driver.messages.resume()},send:function(t){return!(this.readyState>c.OPEN)&&(t instanceof Buffer||(t=String(t)),this._driver.messages.write(t))},ping:function(t,e){return!(this.readyState>c.OPEN)&&this._driver.ping(t,e)},close:function(t,e){if(void 0===t&&(t=1e3),void 0===e&&(e=""),1e3!==t&&(t<3e3||t>4999))throw new Error("Failed to execute 'close' on WebSocket: The code must be either 1000, or between 3000 and 4999. "+t+" is neither.");this.readyState!==c.CLOSED&&(this.readyState=c.CLOSING),this._driver.close(e,t);var n=this;this._closeTimer=setTimeout(function(){n._beginClose("",1006)},c.CLOSE_TIMEOUT)},_configureStream:function(){var t=this;this._stream.setTimeout(0),this._stream.setNoDelay(!0),["close","end"].forEach(function(e){this._stream.on(e,function(){t._finalizeClose()})},this),this._stream.on("error",function(e){t._emitError("Network error: "+t.url+": "+e.message),t._finalizeClose()})},_open:function(){if(this.readyState===c.CONNECTING){this.readyState=c.OPEN,this.protocol=this._driver.protocol||"";var t=new a("open");t.initEvent("open",!1,!1),this.dispatchEvent(t)}},_receiveMessage:function(t){if(this.readyState>c.OPEN)return!1;this.readable&&this.emit("data",t);var e=new a("message",{data:t});e.initEvent("message",!1,!1),this.dispatchEvent(e)},_emitError:function(t){if(!(this.readyState>=c.CLOSING)){var e=new a("error",{message:t});e.initEvent("error",!1,!1),this.dispatchEvent(e)}},_beginClose:function(t,e){this.readyState!==c.CLOSED&&(this.readyState=c.CLOSING,this._closeParams=[t,e],this._stream&&(this._stream.destroy(),this._stream.readable||this._finalizeClose()))},_finalizeClose:function(){if(this.readyState!==c.CLOSED){this.readyState=c.CLOSED,this._closeTimer&&clearTimeout(this._closeTimer),this._pingTimer&&clearInterval(this._pingTimer),this._stream&&this._stream.end(),this.readable&&this.emit("end"),this.readable=this.writable=!1;var t=this._closeParams?this._closeParams[0]:"",e=this._closeParams?this._closeParams[1]:1006,n=new a("close",{code:e,reason:t});n.initEvent("close",!1,!1),this.dispatchEvent(n)}}};for(var h in u)c.prototype[h]=u[h];for(var l in o)c.prototype[l]=o[l];t.exports=c},function(t,e,n){"use strict";var r=n(1).EventEmitter,i=n(0),s=n(7),o=n(12),a=n(4),c=function(){};function u(t,e,n){c(t,e);var i=this;r.call(this),setTimeout(function(){i._start(t,e,n)},0)}i(u,r),u.prototype._start=function(t,e,n){c("_start");var r=this,i=new global.XDomainRequest;e=a.addQuery(e,"t="+ +new Date),i.onerror=function(){c("onerror"),r._error()},i.ontimeout=function(){c("ontimeout"),r._error()},i.onprogress=function(){c("progress",i.responseText),r.emit("chunk",200,i.responseText)},i.onload=function(){c("load"),r.emit("finish",200,i.responseText),r._cleanup(!1)},this.xdr=i,this.unloadRef=s.unloadAdd(function(){r._cleanup(!0)});try{this.xdr.open(t,e),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(n)}catch(t){this._error()}},u.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},u.prototype._cleanup=function(t){if(c("cleanup",t),this.xdr){if(this.removeAllListeners(),s.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,t)try{this.xdr.abort()}catch(t){}this.unloadRef=this.xdr=null}},u.prototype.close=function(){c("close"),this._cleanup(!0)},u.enabled=!(!global.XDomainRequest||!o.hasDomain()),t.exports=u},function(t,e,n){"use strict";var r=n(0),i=n(45),s=n(27);t.exports=function(t){function e(e,n){i.call(this,t.transportName,e,n)}return r(e,i),e.enabled=function(e,n){if(!global.document)return!1;var r=s.extend({},n);return r.sameOrigin=!0,t.enabled(r)&&i.enabled()},e.transportName="iframe-"+t.transportName,e.needBody=!0,e.roundTrips=i.roundTrips+t.roundTrips-1,e.facadeTransport=t,e}},function(t,e,n){"use strict";t.exports={isObject:function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},extend:function(t){if(!this.isObject(t))return t;for(var e,n,r=1,i=arguments.length;r<i;r++)for(n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}}},function(t,e,n){"use strict";function r(t){this.type=t}r.prototype.initEvent=function(t,e,n){return this.type=t,this.bubbles=e,this.cancelable=n,this.timeStamp=+new Date,this},r.prototype.stopPropagation=function(){},r.prototype.preventDefault=function(){},r.CAPTURING_PHASE=1,r.AT_TARGET=2,r.BUBBLING_PHASE=3,t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(110);var r=function(){function t(t){this.position=t}return t.prototype.render=function(){var t=document.createElement("div");return t.classList.add("icon",this.position),t},t}();e.Icon=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6);n(114);var i=function(){function t(){}return t.render=function(){var t=new Date,e=function(t){return t.toString().padStart(2,"0")},n=e(t.getHours())+":"+e(t.getMinutes()),i=document.createElement("span");return i.classList.add("timestamp"),i.appendChild(new r.InlineText(n).render()),i},t}();e.Timestamp=i},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";var r=n(14),i=n(2),s=n(68),o=n(8),a=n(73),c=n(74),u=function(t,e,n){if(o.apply(this,arguments),this._extensions=new s,this._stage=0,this._masking=this._options.masking,this._protocols=this._options.protocols||[],this._requireMasking=this._options.requireMasking,this._pingCallbacks={},"string"==typeof this._protocols&&(this._protocols=this._protocols.split(/ *, */)),this._request){var r=this._request.headers["sec-websocket-key"],i=this._request.headers["sec-websocket-protocol"],a=this._request.headers["sec-websocket-version"],c=this._protocols;this._headers.set("Upgrade","websocket"),this._headers.set("Connection","Upgrade"),this._headers.set("Sec-WebSocket-Accept",u.generateAccept(r)),void 0!==i&&("string"==typeof i&&(i=i.split(/ *, */)),this.protocol=i.filter(function(t){return c.indexOf(t)>=0})[0],this.protocol&&this._headers.set("Sec-WebSocket-Protocol",this.protocol)),this.version="hybi-"+a}};i.inherits(u,o),u.mask=function(t,e,n){if(!e||0===e.length)return t;n=n||0;for(var r=0,i=t.length-n;r<i;r++)t[n+r]=t[n+r]^e[r%4];return t},u.generateAccept=function(t){var e=r.createHash("sha1");return e.update(t+u.GUID),e.digest("base64")},u.GUID="258EAFA5-E914-47DA-95CA-C5AB0DC85B11";var h={FIN:128,MASK:128,RSV1:64,RSV2:32,RSV3:16,OPCODE:15,LENGTH:127,OPCODES:{continuation:0,text:1,binary:2,close:8,ping:9,pong:10},OPCODE_CODES:[0,1,2,8,9,10],MESSAGE_OPCODES:[0,1,2],OPENING_OPCODES:[1,2],ERRORS:{normal_closure:1e3,going_away:1001,protocol_error:1002,unacceptable:1003,encoding_error:1007,policy_violation:1008,too_large:1009,extension_error:1010,unexpected_condition:1011},ERROR_CODES:[1e3,1001,1002,1003,1007,1008,1009,1010,1011],DEFAULT_ERROR_CODE:1e3,MIN_RESERVED_ERROR:3e3,MAX_RESERVED_ERROR:4999,UTF8_MATCH:/^([\x00-\x7F]|[\xC2-\xDF][\x80-\xBF]|\xE0[\xA0-\xBF][\x80-\xBF]|[\xE1-\xEC\xEE\xEF][\x80-\xBF]{2}|\xED[\x80-\x9F][\x80-\xBF]|\xF0[\x90-\xBF][\x80-\xBF]{2}|[\xF1-\xF3][\x80-\xBF]{3}|\xF4[\x80-\x8F][\x80-\xBF]{2})*$/,addExtension:function(t){return this._extensions.add(t),!0},parse:function(t){this._reader.put(t);for(var e=!0;e;)switch(this._stage){case 0:(e=this._reader.read(1))&&this._parseOpcode(e[0]);break;case 1:(e=this._reader.read(1))&&this._parseLength(e[0]);break;case 2:(e=this._reader.read(this._frame.lengthBytes))&&this._parseExtendedLength(e);break;case 3:(e=this._reader.read(4))&&(this._stage=4,this._frame.maskingKey=e);break;case 4:(e=this._reader.read(this._frame.length))&&(this._stage=0,this._emitFrame(e));break;default:e=null}},text:function(t){return!(this.readyState>1)&&this.frame(t,"text")},binary:function(t){return!(this.readyState>1)&&this.frame(t,"binary")},ping:function(t,e){return!(this.readyState>1)&&(t=t||"",e&&(this._pingCallbacks[t]=e),this.frame(t,"ping"))},pong:function(t){return!(this.readyState>1)&&(t=t||"",this.frame(t,"pong"))},close:function(t,e){return t=t||"",e=e||this.ERRORS.normal_closure,this.readyState<=0?(this.readyState=3,this.emit("close",new o.CloseEvent(e,t)),!0):1===this.readyState&&(this.readyState=2,this._extensions.close(function(){this.frame(t,"close",e)},this),!0)},frame:function(t,e,n){if(this.readyState<=0)return this._queue([t,e,n]);if(this.readyState>2)return!1;t instanceof Array&&(t=new Buffer(t)),"number"==typeof t&&(t=t.toString());var i,s,o=new c,u="string"==typeof t;o.rsv1=o.rsv2=o.rsv3=!1,o.opcode=this.OPCODES[e||(u?"text":"binary")],i=u?new Buffer(t,"utf8"):t,n&&(s=i,(i=new Buffer(2+s.length)).writeUInt16BE(n,0),s.copy(i,2)),o.data=i;var h=function(t){var e=new a;e.final=!0,e.rsv1=t.rsv1,e.rsv2=t.rsv2,e.rsv3=t.rsv3,e.opcode=t.opcode,e.masked=!!this._masking,e.length=t.data.length,e.payload=t.data,e.masked&&(e.maskingKey=r.randomBytes(4)),this._sendFrame(e)};return this.MESSAGE_OPCODES.indexOf(o.opcode)>=0?this._extensions.processOutgoingMessage(o,function(t,e){if(t)return this._fail("extension_error",t.message);h.call(this,e)},this):h.call(this,o),!0},_sendFrame:function(t){var e=t.length,n=e<=125?2:e<=65535?4:10,r=n+(t.masked?4:0),i=new Buffer(r+e),s=t.masked?this.MASK:0;i[0]=(t.final?this.FIN:0)|(t.rsv1?this.RSV1:0)|(t.rsv2?this.RSV2:0)|(t.rsv3?this.RSV3:0)|t.opcode,e<=125?i[1]=s|e:e<=65535?(i[1]=126|s,i.writeUInt16BE(e,2)):(i[1]=127|s,i.writeUInt32BE(Math.floor(e/4294967296),2),i.writeUInt32BE(e%4294967296,6)),t.payload.copy(i,r),t.masked&&(t.maskingKey.copy(i,n),u.mask(i,t.maskingKey,r)),this._write(i)},_handshakeResponse:function(){try{var t=this._extensions.generateResponse(this._request.headers["sec-websocket-extensions"])}catch(t){return this._fail("protocol_error",t.message)}t&&this._headers.set("Sec-WebSocket-Extensions",t);var e=["HTTP/1.1 101 Switching Protocols",this._headers.toString(),""];return new Buffer(e.join("\r\n"),"utf8")},_shutdown:function(t,e,n){delete this._frame,delete this._message,this._stage=5;var r=1===this.readyState;this.readyState=2,this._extensions.close(function(){r&&this.frame(e,"close",t),this.readyState=3,n&&this.emit("error",new Error(e)),this.emit("close",new o.CloseEvent(t,e))},this)},_fail:function(t,e){this.readyState>1||this._shutdown(this.ERRORS[t],e,!0)},_parseOpcode:function(t){var e=[this.RSV1,this.RSV2,this.RSV3].map(function(e){return(t&e)===e}),n=this._frame=new a;return n.final=(t&this.FIN)===this.FIN,n.rsv1=e[0],n.rsv2=e[1],n.rsv3=e[2],n.opcode=t&this.OPCODE,this._stage=1,this._extensions.validFrameRsv(n)?this.OPCODE_CODES.indexOf(n.opcode)<0?this._fail("protocol_error","Unrecognized frame opcode: "+n.opcode):this.MESSAGE_OPCODES.indexOf(n.opcode)<0&&!n.final?this._fail("protocol_error","Received fragmented control frame: opcode = "+n.opcode):this._message&&this.OPENING_OPCODES.indexOf(n.opcode)>=0?this._fail("protocol_error","Received new data frame but previous continuous frame is unfinished"):void 0:this._fail("protocol_error","One or more reserved bits are on: reserved1 = "+(n.rsv1?1:0)+", reserved2 = "+(n.rsv2?1:0)+", reserved3 = "+(n.rsv3?1:0))},_parseLength:function(t){var e=this._frame;if(e.masked=(t&this.MASK)===this.MASK,e.length=t&this.LENGTH,e.length>=0&&e.length<=125){if(this._stage=e.masked?3:4,!this._checkFrameLength())return}else this._stage=2,e.lengthBytes=126===e.length?2:8;if(this._requireMasking&&!e.masked)return this._fail("unacceptable","Received unmasked frame but masking is required")},_parseExtendedLength:function(t){var e=this._frame;if(e.length=this._readUInt(t),this._stage=e.masked?3:4,this.MESSAGE_OPCODES.indexOf(e.opcode)<0&&e.length>125)return this._fail("protocol_error","Received control frame having too long payload: "+e.length);this._checkFrameLength()},_checkFrameLength:function(){return!((this._message?this._message.length:0)+this._frame.length>this._maxLength&&(this._fail("too_large","WebSocket frame length too large"),1))},_emitFrame:function(t){var e,n,r,i,s,a=this._frame,h=a.payload=u.mask(t,a.maskingKey),l=a.opcode;if(delete this._frame,l===this.OPCODES.continuation){if(!this._message)return this._fail("protocol_error","Received unexpected continuation frame");this._message.pushFrame(a)}if(l!==this.OPCODES.text&&l!==this.OPCODES.binary||(this._message=new c,this._message.pushFrame(a)),a.final&&this.MESSAGE_OPCODES.indexOf(l)>=0)return this._emitMessage(this._message);l===this.OPCODES.close&&(n=h.length>=2?h.readUInt16BE(0):null,r=h.length>2?this._encode(h.slice(2)):null,0!==h.length&&!(null!==n&&n>=this.MIN_RESERVED_ERROR&&n<=this.MAX_RESERVED_ERROR)&&this.ERROR_CODES.indexOf(n)<0&&(n=this.ERRORS.protocol_error),(h.length>125||h.length>2&&!r)&&(n=this.ERRORS.protocol_error),this._shutdown(n||this.DEFAULT_ERROR_CODE,r||"")),l===this.OPCODES.ping&&(this.frame(h,"pong"),this.emit("ping",new o.PingEvent(h.toString()))),l===this.OPCODES.pong&&(s=(i=this._pingCallbacks)[e=this._encode(h)],delete i[e],s&&s(),this.emit("pong",new o.PongEvent(h.toString())))},_emitMessage:function(t){(t=this._message).read(),delete this._message,this._extensions.processIncomingMessage(t,function(t,e){if(t)return this._fail("extension_error",t.message);var n=e.data;if(e.opcode===this.OPCODES.text&&(n=this._encode(n)),null===n)return this._fail("encoding_error","Could not decode a text frame as UTF-8");this.emit("message",new o.MessageEvent(n))},this)},_encode:function(t){try{var e=t.toString("binary",0,t.length);if(!this.UTF8_MATCH.test(e))return null}catch(t){}return t.toString("utf8",0,t.length)},_readUInt:function(t){return 2===t.length?t.readUInt16BE(0):4294967296*t.readUInt32BE(0)+t.readUInt32BE(4)}};for(var l in h)u.prototype[l]=h[l];t.exports=u},function(t,e,n){"use strict";var r=function(t){this._bufferSize=t,this.clear()};r.prototype.clear=function(){this._buffer=new Array(this._bufferSize),this._ringOffset=0,this._ringSize=this._bufferSize,this._head=0,this._tail=0,this.length=0},r.prototype.push=function(t){var e=!1,n=!1;this._ringSize<this._bufferSize?e=0===this._tail:this._ringOffset===this._ringSize&&(e=!0,n=0===this._tail),e&&(this._tail=this._bufferSize,this._buffer=this._buffer.concat(new Array(this._bufferSize)),this._bufferSize=this._buffer.length,n&&(this._ringSize=this._bufferSize)),this._buffer[this._tail]=t,this.length+=1,this._tail<this._ringSize&&(this._ringOffset+=1),this._tail=(this._tail+1)%this._bufferSize},r.prototype.peek=function(){if(0!==this.length)return this._buffer[this._head]},r.prototype.shift=function(){if(0!==this.length){var t=this._buffer[this._head];return this._buffer[this._head]=void 0,this.length-=1,this._ringOffset-=1,0===this._ringOffset&&this.length>0?(this._head=this._ringSize,this._ringOffset=this.length,this._ringSize=this._bufferSize):this._head=(this._head+1)%this._ringSize,t}},t.exports=r},function(t,e,n){"use strict";var r=n(34),i=function(){this._complete=!1,this._callbacks=new r(i.QUEUE_SIZE)};i.QUEUE_SIZE=4,i.all=function(t){var e=new i,n=t.length,r=n;for(0===n&&e.done();r--;)t[r].then(function(){0==(n-=1)&&e.done()});return e},i.prototype.then=function(t){this._complete?t():this._callbacks.push(t)},i.prototype.done=function(){this._complete=!0;for(var t,e=this._callbacks;t=e.shift();)t()},t.exports=i},function(t,e,n){"use strict";var r=n(8),i=function(t,e,n){r.apply(this,arguments),this._stage=0,this.version="hixie-75",this._headers.set("Upgrade","WebSocket"),this._headers.set("Connection","Upgrade"),this._headers.set("WebSocket-Origin",this._request.headers.origin),this._headers.set("WebSocket-Location",this.url)};n(2).inherits(i,r);var s={close:function(){return 3!==this.readyState&&(this.readyState=3,this.emit("close",new r.CloseEvent(null,null)),!0)},parse:function(t){this.readyState>1||(this._reader.put(t),this._reader.eachByte(function(t){var e;switch(this._stage){case-1:this._body.push(t),this._sendHandshakeBody();break;case 0:this._parseLeadingByte(t);break;case 1:if(this._length=(127&t)+128*this._length,this._closing&&0===this._length)return this.close();128!=(128&t)&&(0===this._length?this._stage=0:(this._skipped=0,this._stage=2));break;case 2:if(255===t)this._stage=0,e=new Buffer(this._buffer).toString("utf8",0,this._buffer.length),this.emit("message",new r.MessageEvent(e));else if(this._length)this._skipped+=1,this._skipped===this._length&&(this._stage=0);else if(this._buffer.push(t),this._buffer.length>this._maxLength)return this.close()}},this))},frame:function(t){if(0===this.readyState)return this._queue([t]);if(this.readyState>1)return!1;"string"!=typeof t&&(t=t.toString());var e=new Buffer(t,"utf8"),n=new Buffer(e.length+2);return n[0]=0,n[e.length+1]=255,e.copy(n,1),this._write(n),!0},_handshakeResponse:function(){var t=["HTTP/1.1 101 Web Socket Protocol Handshake",this._headers.toString(),""];return new Buffer(t.join("\r\n"),"utf8")},_parseLeadingByte:function(t){128==(128&t)?(this._length=0,this._stage=1):(delete this._length,delete this._skipped,this._buffer=[],this._stage=2)}};for(var o in s)i.prototype[o]=s[o];t.exports=i},function(t,e,n){var r=n(19),i={onopen:null,onmessage:null,onerror:null,onclose:null,addEventListener:function(t,e,n){this.on(t,e)},removeEventListener:function(t,e,n){this.removeListener(t,e)},dispatchEvent:function(t){t.target=t.currentTarget=this,t.eventPhase=r.AT_TARGET,this["on"+t.type]&&this["on"+t.type](t),this.emit(t.type,t)}};t.exports=i},function(t,e,n){"use strict";var r=n(0),i=n(4),s=n(83),o=n(84),a=function(){};function c(t,e,n,r,c){var u=i.addPath(t,e);a(u);var h=this;s.call(this,t,n),this.poll=new o(r,u,c),this.poll.on("message",function(t){a("poll message",t),h.emit("message",t)}),this.poll.once("close",function(t,e){a("poll close",t,e),h.poll=null,h.emit("close",t,e),h.close()})}r(c,s),c.prototype.close=function(){s.prototype.close.call(this),a("close"),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},t.exports=c},function(t,e,n){"use strict";var r=n(1).EventEmitter,i=n(0),s=n(40),o=n(41),a=n(15),c=function(){};function u(t,e,n,i){c(t,e,n);var u=this;r.call(this);var h=new a(e),l={method:t,hostname:h.hostname.replace(/\[|\]/g,""),port:h.port,path:h.pathname+(h.query||""),headers:i&&i.headers,agent:!1},f="https:"===h.protocol?o:s;this.req=f.request(l,function(t){t.setEncoding("utf8");var e="";t.on("data",function(t){c("data",t),e+=t,u.emit("chunk",200,e)}),t.once("end",function(){c("end"),u.emit("finish",t.statusCode,e),u.req=null})}),this.req.on("error",function(t){c("error",t),u.emit("finish",0,t.message)}),n&&this.req.write(n),this.req.end()}i(u,r),u.prototype.close=function(){c("close"),this.removeAllListeners(),this.req&&(this.req.abort(),this.req=null)},u.enabled=!0,u.supportsCORS=!0,t.exports=u},function(t,e){t.exports=require("http")},function(t,e){t.exports=require("https")},function(t,e,n){"use strict";var r=n(0),i=n(10),s=n(20),o=n(25);function a(t){if(!o.enabled)throw new Error("Transport created when disabled");i.call(this,t,"/xhr_streaming",s,o)}r(a,i),a.enabled=function(t){return!t.cookie_needed&&!t.nullOrigin&&o.enabled&&t.sameScheme},a.transportName="xdr-streaming",a.roundTrips=2,t.exports=a},function(t,e,n){"use strict";var r=n(0),i=n(10),s=n(85),o=n(21),a=n(44);function c(t){if(!c.enabled())throw new Error("Transport created when disabled");i.call(this,t,"/eventsource",s,o)}r(c,i),c.enabled=function(){return!!a},c.transportName="eventsource",c.roundTrips=2,t.exports=c},function(t,e,n){var r=n(86),i=n(18).parse,s=n(1),o=n(41),a=n(40),c=n(2);function u(t){return Object.getPrototypeOf(t)===Object.prototype}function h(t,e){var n=h.CONNECTING;Object.defineProperty(this,"readyState",{get:function(){return n}}),Object.defineProperty(this,"url",{get:function(){return t}});var s=this;s.reconnectInterval=1e3;var c,f=!1;function p(){f||n===h.CLOSED||(f=!0,n=h.CONNECTING,b("error",new l("error")),g&&(t=g,g=null),setTimeout(function(){n===h.CONNECTING&&y()},s.reconnectInterval))}var d="";e&&e.headers&&u(e.headers)&&e.headers["Last-Event-ID"]&&(d=e.headers["Last-Event-ID"],delete e.headers["Last-Event-ID"]);var _=!1,v="",m="",g=null;function y(){f=!1;var r=i(t),v="https:"==r.protocol;if(r.headers={"Cache-Control":"no-cache",Accept:"text/event-stream"},d&&(r.headers["Last-Event-ID"]=d),e&&e.headers&&u(e.headers))for(var m in e.headers){var w=e.headers[m];w&&(r.headers[m]=w)}r.rejectUnauthorized=!(e&&0==e.rejectUnauthorized),(c=(v?o:a).request(r,function(e){if(301==e.statusCode||307==e.statusCode)return e.headers.location?(307==e.statusCode&&(g=t),t=e.headers.location,void process.nextTick(y)):void b("error",new l("error",{status:e.statusCode}));if(200!==e.statusCode)return b("error",new l("error",{status:e.statusCode})),s.close();n=h.OPEN,e.on("close",p),e.on("end",p),b("open",new l("open"));var r="";e.on("data",function(t){for(var e=0,n=(r+=t).length;e<n;){_&&("\n"===r[e]&&++e,_=!1);for(var i,s=-1,o=-1,a=e;s<0&&a<n;++a)":"===(i=r[a])?o<0&&(o=a-e):"\r"===i?(_=!0,s=a-e):"\n"===i&&(s=a-e);if(s<0)break;E(r,e,o,s),e+=s+1}e===n?r="":e>0&&(r=r.slice(e))})})).on("error",p),c.setNoDelay(!0),c.end()}function b(){s.listeners(arguments[0]).length>0&&s.emit.apply(s,arguments)}function E(e,n,i,o){if(0===o){if(v.length>0){var a=m||"message";b(a,new function(t,e){for(var n in Object.defineProperty(this,"type",{writable:!1,value:t,enumerable:!0}),e)e.hasOwnProperty(n)&&Object.defineProperty(this,n,{writable:!1,value:e[n],enumerable:!0})}(a,{data:v.slice(0,-1),lastEventId:d,origin:r(t)})),v=""}m=void 0}else if(i>0){var c,u=i<0,h=e.slice(n,n+(u?o:i));n+=c=u?o:" "!==e[n+i+1]?i+1:i+2;var l=o-c,f=e.slice(n,n+l);if("data"===h)v+=f+"\n";else if("event"===h)m=f;else if("id"===h)d=f;else if("retry"===h){var p=parseInt(f,10);Number.isNaN(p)||(s.reconnectInterval=p)}}}y(),this.close=function(){n!=h.CLOSED&&(n=h.CLOSED,c.abort())}}function l(t,e){if(Object.defineProperty(this,"type",{writable:!1,value:t,enumerable:!0}),e)for(var n in e)e.hasOwnProperty(n)&&Object.defineProperty(this,n,{writable:!1,value:e[n],enumerable:!0})}t.exports=h,c.inherits(h,s.EventEmitter),h.prototype.constructor=h,["open","error","message"].forEach(function(t){Object.defineProperty(h.prototype,"on"+t,{get:function(){var e=this.listeners(t)[0];return e?e._listener?e._listener:e:void 0},set:function(e){this.removeAllListeners(t),this.addEventListener(t,e)}})}),Object.defineProperty(h,"CONNECTING",{enumerable:!0,value:0}),Object.defineProperty(h,"OPEN",{enumerable:!0,value:1}),Object.defineProperty(h,"CLOSED",{enumerable:!0,value:2}),h.prototype.addEventListener=function(t,e){"function"==typeof e&&(e._listener=e,this.on(t,e))}},function(t,e,n){"use strict";var r=n(0),i=n(5),s=n(1).EventEmitter,o=n(46),a=n(4),c=n(13),u=n(7),h=n(9),l=function(){};function f(t,e,n){if(!f.enabled())throw new Error("Transport created when disabled");s.call(this);var r=this;this.origin=a.getOrigin(n),this.baseUrl=n,this.transUrl=e,this.transport=t,this.windowId=h.string(8);var i=a.addPath(n,"/iframe.html")+"#"+this.windowId;l(t,e,i),this.iframeObj=c.createIframe(i,function(t){l("err callback"),r.emit("close",1006,"Unable to load an iframe ("+t+")"),r.close()}),this.onmessageCallback=this._message.bind(this),u.attachEvent("message",this.onmessageCallback)}r(f,s),f.prototype.close=function(){if(l("close"),this.removeAllListeners(),this.iframeObj){u.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(t){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},f.prototype._message=function(t){if(l("message",t.data),a.isOriginEqual(t.origin,this.origin)){var e;try{e=i.parse(t.data)}catch(e){return void l("bad json",t.data)}if(e.windowId===this.windowId)switch(e.type){case"s":this.iframeObj.loaded(),this.postMessage("s",i.stringify([o,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",e.data);break;case"c":var n;try{n=i.parse(e.data)}catch(t){return void l("bad json",e.data)}this.emit("close",n[0],n[1]),this.close()}else l("mismatched window id",e.windowId,this.windowId)}else l("not same origin",t.origin,this.origin)},f.prototype.postMessage=function(t,e){l("postMessage",t,e),this.iframeObj.post(i.stringify({windowId:this.windowId,type:t,data:e||""}),this.origin)},f.prototype.send=function(t){l("send",t),this.postMessage("m",t)},f.enabled=function(){return c.iframeEnabled},f.transportName="iframe",f.roundTrips=2,t.exports=f},function(t,e){t.exports="1.1.5"},function(t,e,n){"use strict";var r=n(0),i=n(89),s=n(11),o=n(10);function a(t){if(!i.enabled)throw new Error("Transport created when disabled");o.call(this,t,"/htmlfile",i,s)}r(a,o),a.enabled=function(t){return i.enabled&&t.sameOrigin},a.transportName="htmlfile",a.roundTrips=2,t.exports=a},function(t,e,n){"use strict";var r=n(0),i=n(10),s=n(20),o=n(21),a=n(11);function c(t){if(!a.enabled&&!o.enabled)throw new Error("Transport created when disabled");i.call(this,t,"/xhr",s,o)}r(c,i),c.enabled=function(t){return!t.nullOrigin&&(!(!a.enabled||!t.sameOrigin)||o.enabled)},c.transportName="xhr-polling",c.roundTrips=2,t.exports=c},function(t,e,n){"use strict";t.exports=global.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}},function(t,e,n){"use strict";var r=n(0),i=n(1).EventEmitter,s=n(5),o=n(11),a=n(51);function c(t){var e=this;i.call(this),this.ir=new a(t,o),this.ir.once("finish",function(t,n){e.ir=null,e.emit("message",s.stringify([t,n]))})}r(c,i),c.transportName="iframe-info-receiver",c.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},t.exports=c},function(t,e,n){"use strict";var r=n(1).EventEmitter,i=n(0),s=n(5),o=n(27),a=function(){};function c(t,e){r.call(this);var n=this,i=+new Date;this.xo=new e("GET",t),this.xo.once("finish",function(t,e){var r,c;if(200===t){if(c=+new Date-i,e)try{r=s.parse(e)}catch(t){a("bad json",e)}o.isObject(r)||(r={})}n.emit("finish",r,c),n.removeAllListeners()})}i(c,r),c.prototype.close=function(){this.removeAllListeners(),this.xo.close()},t.exports=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(109),i=n(120),s=n(123),o=n(126),a=n(129),c=n(132),u=n(135),h=n(138),l=n(141),f=n(144),p=n(147),d=n(150),_=n(153),v=n(154),m=function(){function t(t){this.components=[r.Block,i.Bold,s.Button,c.Headline,u.Image,h.Item,l.Items,f.Link,v.Text,_.Table,p.Row,a.Col,o.Checkbox,d.Submit],this.container=t}return t.prototype.render=function(t,e){var n=this,r=this.getElement(t);return Array.isArray(r)?r.map(function(t){return n.renderElement(t,e)}):this.renderElement(r,e)},t.prototype.renderElement=function(t,e){if(this.container){t.render(this.container,e);var n=document.createElement("div");n.setAttribute("style","clear:both"),this.container.appendChild(n)}},t.prototype.getElement=function(t){var e=Object.create(this.components[t.type.toUpperCase()]);return e.constructor.apply(e,t),e},t}();e.Renderer=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(54);n(155),e.default=r.GaiaChannel},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(55),i=n(107),s=n(108),o=n(52),a=function(){function t(t,e){void 0===e&&(e=new s.Emitter),this.emitter=e,this.renderer=new o.Renderer(t)}return t.getSessionId=function(t){var e=/\/([^\/]+)\/websocket/.exec(t.websocket.ws._transport.url);return e?e[1]:null},t.prototype.connect=function(t,e){var n=this;return void 0===this.websocket?(localStorage.setItem("gaia.url",t),localStorage.setItem("gaia.idt",e),new Promise(function(s,o){n.emitter.onConnecting(t,e),n.websocket=i.default.over(r.default(t)),n.websocket.debug=function(){};var a={};a["gaia.uid"]=localStorage.getItem("gaia.uid"),a["gaia.sig"]=localStorage.getItem("gaia.sig"),a["gaia.idt"]=localStorage.getItem("gaia.idt"),n.websocket.connect(a,n.onOpen(n,s),n.onError(n,o))})):Promise.resolve(e)},t.prototype.disconnect=function(){var t=this;return this.websocket?new Promise(function(e){t.websocket.disconnect(function(){var n=localStorage.getItem("gaia.url"),r=localStorage.getItem("gaia.idt");t.emitter.onDisconnected(n,r),e()})}):Promise.resolve()},t.prototype.sendMessage=function(e){try{document.getElementsByClassName("button.left").item(0).remove();var n=Object.assign(e,{position:"right",timestamp:(new Date).getTime()});return this.websocket.send("/app/"+t.getSessionId(this),{identity:localStorage.getItem("gaia.idt")},JSON.stringify(n)),this.renderer.render(n,null),Promise.resolve(e)}catch(t){return this.onError(this)(t),Promise.reject(t)}},t.prototype.onOpen=function(e,n){var r=this;return function(i){var s=localStorage.getItem("gaia.url"),o=localStorage.getItem("gaia.idt");e.websocket.subscribe("/queue/"+t.getSessionId(e),r.onMessage(e),{identity:o}),e.emitter.onConnected(s,o),n()}},t.prototype.onError=function(t,e){return function(n){e&&e(),t.emitter.onError(n),setTimeout(function(){var e=localStorage.getItem("gaia.url"),n=localStorage.getItem("gaia.idt");t.emitter.onReconnecting(e,n),t.connect(e,n)},5e3)}},t.prototype.onMessage=function(t){var e=this;return function(n){var r=JSON.parse(n.body);r.type?(t.emitter.onMessage(Object.assign(r,{position:"left"})),t.renderer.render(Object.assign(r,{position:"left"}),e.sendMessage.bind(e))):r.uid&&r.sig&&(t.emitter.onMessage(r),localStorage.setItem("gaia.uid",r.uid),localStorage.setItem("gaia.sig",r.sig))}},t}();e.GaiaChannel=a},function(t,e,n){"use strict";var r=n(56);t.exports=n(94)(r),"_sockjs_onload"in global&&setTimeout(global._sockjs_onload,1)},function(t,e,n){"use strict";t.exports=[n(57),n(82),n(42),n(43),n(26)(n(43)),n(47),n(26)(n(47)),n(48),n(90),n(26)(n(48)),n(91)]},function(t,e,n){"use strict";var r=n(7),i=n(4),s=n(0),o=n(1).EventEmitter,a=n(61),c=function(){};function u(t,e,n){if(!u.enabled())throw new Error("Transport created when disabled");o.call(this),c("constructor",t);var s=this,h=i.addPath(t,"/websocket");h="https"===h.slice(0,5)?"wss"+h.slice(5):"ws"+h.slice(4),this.url=h,this.ws=new a(this.url,[],n),this.ws.onmessage=function(t){c("message event",t.data),s.emit("message",t.data)},this.unloadRef=r.unloadAdd(function(){c("unload"),s.ws.close()}),this.ws.onclose=function(t){c("close event",t.code,t.reason),s.emit("close",t.code,t.reason),s._cleanup()},this.ws.onerror=function(t){c("error event",t),s.emit("close",1006,"WebSocket connection broken"),s._cleanup()}}s(u,o),u.prototype.send=function(t){var e="["+t+"]";c("send",e),this.ws.send(e)},u.prototype.close=function(){c("close");var t=this.ws;this._cleanup(),t&&t.close()},u.prototype._cleanup=function(){c("_cleanup");var t=this.ws;t&&(t.onmessage=t.onclose=t.onerror=null),r.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},u.enabled=function(){return c("enabled"),!!a},u.transportName="websocket",u.roundTrips=2,t.exports=u},function(t,e,n){"use strict";t.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty;function i(t){return decodeURIComponent(t.replace(/\+/g," "))}e.stringify=function(t,e){e=e||"";var n=[];for(var i in"string"!=typeof e&&(e="?"),t)r.call(t,i)&&n.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return n.length?e+n.join("&"):""},e.parse=function(t){for(var e,n=/([^=?&]+)=?([^&]*)/g,r={};e=n.exec(t);){var s=i(e[1]),o=i(e[2]);s in r||(r[s]=o)}return r}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){t.exports=n(62).Client},function(t,e,n){var r=n(2),i=n(16),s=n(24),o=function(t,e,n,r,o){o=o||{},this._stream=e,this._driver=i.http(t,{maxLength:o.maxLength,protocols:r});var a=this;if(this._stream&&this._stream.writable){if(!this._stream.readable)return this._stream.end();var c=function(){a._stream.removeListener("data",c)};this._stream.on("data",c),s.call(this,o),process.nextTick(function(){a._driver.start(),a._driver.io.write(n)})}};r.inherits(o,s),o.isWebSocket=function(t){return i.isWebSocket(t)},o.validateOptions=function(t,e){i.validateOptions(t,e)},o.WebSocket=o,o.Client=n(78),o.EventSource=n(81),t.exports=o},function(t,e,n){"use strict";var r=n(17).Stream,i=n(2),s=function(t){this.readable=this.writable=!0,this._paused=!1,this._driver=t};i.inherits(s,r),s.prototype.pause=function(){this._paused=!0,this._driver.messages._paused=!0},s.prototype.resume=function(){this._paused=!1,this.emit("drain");var t=this._driver.messages;t._paused=!1,t.emit("drain")},s.prototype.write=function(t){return!!this.writable&&(this._driver.parse(t),!this._paused)},s.prototype.end=function(t){if(this.writable){void 0!==t&&this.write(t),this.writable=!1;var e=this._driver.messages;e.readable&&(e.readable=e.writable=!1,e.emit("end"))}},s.prototype.destroy=function(){this.end()};var o=function(t){this.readable=this.writable=!0,this._paused=!1,this._driver=t};i.inherits(o,r),o.prototype.pause=function(){this._driver.io._paused=!0},o.prototype.resume=function(){this._driver.io._paused=!1,this._driver.io.emit("drain")},o.prototype.write=function(t){return!!this.writable&&("string"==typeof t?this._driver.text(t):this._driver.binary(t),!this._paused)},o.prototype.end=function(t){void 0!==t&&this.write(t)},o.prototype.destroy=function(){},e.IO=s,e.Messages=o},function(t,e,n){"use strict";var r=function(){this._queue=[],this._queueSize=0,this._offset=0};r.prototype.put=function(t){t&&0!==t.length&&(t.copy||(t=new Buffer(t)),this._queue.push(t),this._queueSize+=t.length)},r.prototype.read=function(t){if(t>this._queueSize)return null;if(0===t)return new Buffer(0);this._queueSize-=t;var e,n,r=this._queue,i=t,s=r[0];if(s.length>=t)return s.length===t?r.shift():(n=s.slice(0,t),r[0]=s.slice(t),n);for(var o=0,a=r.length;o<a&&!(i<r[o].length);o++)i-=r[o].length;return e=r.splice(0,o),i>0&&r.length>0&&(e.push(r[0].slice(0,i)),r[0]=r[0].slice(i)),this._concat(e,t)},r.prototype.eachByte=function(t,e){for(var n,r,i;this._queue.length>0;){for(r=(n=this._queue[0]).length;this._offset<r;)i=this._offset,this._offset+=1,t.call(e,n[i]);this._offset=0,this._queue.shift()}},r.prototype._concat=function(t,e){if(Buffer.concat)return Buffer.concat(t,e);for(var n=new Buffer(e),r=0,i=0,s=t.length;i<s;i++)t[i].copy(n,r),r+=t[i].length;return n},t.exports=r},function(t,e,n){"use strict";var r=n(14),i=n(18),s=n(2),o=n(23),a=n(8),c=n(33),u=n(75),h=function(t,e){this.version="hybi-13",c.call(this,null,t,e),this.readyState=-1,this._key=h.generateKey(),this._accept=c.generateAccept(this._key),this._http=new o("response");var n=i.parse(this.url),r=n.auth&&new Buffer(n.auth,"utf8").toString("base64");if(this.VALID_PROTOCOLS.indexOf(n.protocol)<0)throw new Error(this.url+" is not a valid WebSocket URL");this._pathname=(n.pathname||"/")+(n.search||""),this._headers.set("Host",n.host),this._headers.set("Upgrade","websocket"),this._headers.set("Connection","Upgrade"),this._headers.set("Sec-WebSocket-Key",this._key),this._headers.set("Sec-WebSocket-Version","13"),this._protocols.length>0&&this._headers.set("Sec-WebSocket-Protocol",this._protocols.join(", ")),r&&this._headers.set("Authorization","Basic "+r)};s.inherits(h,c),h.generateKey=function(){return r.randomBytes(16).toString("base64")};var l={VALID_PROTOCOLS:["ws:","wss:"],proxy:function(t,e){return new u(this,t,e)},start:function(){return-1===this.readyState&&(this._write(this._handshakeRequest()),this.readyState=0,!0)},parse:function(t){if(3!==this.readyState){if(this.readyState>0)return c.prototype.parse.call(this,t);this._http.parse(t),this._http.isComplete()&&(this._validateHandshake(),3!==this.readyState&&(this._open(),this.parse(this._http.body)))}},_handshakeRequest:function(){var t=this._extensions.generateOffer();t&&this._headers.set("Sec-WebSocket-Extensions",t);var e=["GET "+this._pathname+" HTTP/1.1",this._headers.toString(),""];return new Buffer(e.join("\r\n"),"utf8")},_failHandshake:function(t){t="Error during WebSocket handshake: "+t,this.readyState=3,this.emit("error",new Error(t)),this.emit("close",new a.CloseEvent(this.ERRORS.protocol_error,t))},_validateHandshake:function(){if(this.statusCode=this._http.statusCode,this.headers=this._http.headers,this._http.error)return this._failHandshake(this._http.error.message);if(101!==this._http.statusCode)return this._failHandshake("Unexpected response code: "+this._http.statusCode);var t=this._http.headers,e=t.upgrade||"",n=t.connection||"",r=t["sec-websocket-accept"]||"",i=t["sec-websocket-protocol"]||"";if(""===e)return this._failHandshake("'Upgrade' header is missing");if("websocket"!==e.toLowerCase())return this._failHandshake("'Upgrade' header value is not 'WebSocket'");if(""===n)return this._failHandshake("'Connection' header is missing");if("upgrade"!==n.toLowerCase())return this._failHandshake("'Connection' header value is not 'Upgrade'");if(r!==this._accept)return this._failHandshake("Sec-WebSocket-Accept mismatch");if(this.protocol=null,""!==i){if(this._protocols.indexOf(i)<0)return this._failHandshake("Sec-WebSocket-Protocol mismatch");this.protocol=i}try{this._extensions.activate(this.headers["sec-websocket-extensions"])}catch(t){return this._failHandshake(t.message)}}};for(var f in l)h.prototype[f]=l[f];t.exports=h},function(t,e,n){var r=n(67);function i(t){r.ok(t===i.REQUEST||t===i.RESPONSE),this.type=t,this.state=t+"_LINE",this.info={headers:[],upgrade:!1},this.trailers=[],this.line="",this.isChunked=!1,this.connection="",this.headerSize=0,this.body_bytes=null,this.isUserCall=!1,this.hadError=!1}e.HTTPParser=i,i.encoding="ascii",i.maxHeaderSize=81920,i.REQUEST="REQUEST",i.RESPONSE="RESPONSE";var s=i.kOnHeaders=0,o=i.kOnHeadersComplete=1,a=i.kOnBody=2,c=i.kOnMessageComplete=3;i.prototype[s]=i.prototype[o]=i.prototype[a]=i.prototype[c]=function(){};var u=!0;Object.defineProperty(i,"kOnExecute",{get:function(){return u=!1,4}});var h=e.methods=i.methods=["DELETE","GET","HEAD","POST","PUT","CONNECT","OPTIONS","TRACE","COPY","LOCK","MKCOL","MOVE","PROPFIND","PROPPATCH","SEARCH","UNLOCK","BIND","REBIND","UNBIND","ACL","REPORT","MKACTIVITY","CHECKOUT","MERGE","M-SEARCH","NOTIFY","SUBSCRIBE","UNSUBSCRIBE","PATCH","PURGE","MKCALENDAR","LINK","UNLINK"],l=h.indexOf("CONNECT");i.prototype.reinitialize=i,i.prototype.close=i.prototype.pause=i.prototype.resume=i.prototype.free=function(){},i.prototype._compatMode0_11=!1,i.prototype.getAsyncId=function(){return 0};var f={REQUEST_LINE:!0,RESPONSE_LINE:!0,HEADER:!0};i.prototype.execute=function(t,e,n){if(!(this instanceof i))throw new TypeError("not a HTTPParser");e=e||0,n="number"==typeof n?n:t.length,this.chunk=t,this.offset=e;var r=this.end=e+n;try{for(;this.offset<r&&!this[this.state](););}catch(t){if(this.isUserCall)throw t;return this.hadError=!0,t}return this.chunk=null,n=this.offset-e,f[this.state]&&(this.headerSize+=n,this.headerSize>i.maxHeaderSize)?new Error("max header size exceeded"):n};var p={REQUEST_LINE:!0,RESPONSE_LINE:!0,BODY_RAW:!0};i.prototype.finish=function(){if(!this.hadError)return p[this.state]?void("BODY_RAW"===this.state&&this.userCall()(this[c]())):new Error("invalid state for EOF")},i.prototype.consume=i.prototype.unconsume=i.prototype.getCurrentBuffer=function(){},i.prototype.userCall=function(){this.isUserCall=!0;var t=this;return function(e){return t.isUserCall=!1,e}},i.prototype.nextRequest=function(){this.userCall()(this[c]()),this.reinitialize(this.type)},i.prototype.consumeLine=function(){for(var t=this.end,e=this.chunk,n=this.offset;n<t;n++)if(10===e[n]){var r=this.line+e.toString(i.encoding,this.offset,n);return"\r"===r.charAt(r.length-1)&&(r=r.substr(0,r.length-1)),this.line="",this.offset=n+1,r}this.line+=e.toString(i.encoding,this.offset,this.end),this.offset=this.end};var d=/^([^: \t]+):[ \t]*((?:.*[^ \t])|)/,_=/^[ \t]+(.*[^ \t])/;i.prototype.parseHeader=function(t,e){if(-1!==t.indexOf("\r"))throw g("HPE_LF_EXPECTED");var n=d.exec(t),r=n&&n[1];if(r)e.push(r),e.push(n[2]);else{var i=_.exec(t);i&&e.length&&(e[e.length-1]&&(e[e.length-1]+=" "),e[e.length-1]+=i[1])}};var v=/^([A-Z-]+) ([^ ]+) HTTP\/(\d)\.(\d)$/;i.prototype.REQUEST_LINE=function(){var t=this.consumeLine();if(t){var e=v.exec(t);if(null===e)throw g("HPE_INVALID_CONSTANT");if(this.info.method=this._compatMode0_11?e[1]:h.indexOf(e[1]),-1===this.info.method)throw new Error("invalid request method");this.info.url=e[2],this.info.versionMajor=+e[3],this.info.versionMinor=+e[4],this.body_bytes=0,this.state="HEADER"}};var m=/^HTTP\/(\d)\.(\d) (\d{3}) ?(.*)$/;function g(t){var e=new Error("Parse Error");return e.code=t,e}i.prototype.RESPONSE_LINE=function(){var t=this.consumeLine();if(t){var e=m.exec(t);if(null===e)throw g("HPE_INVALID_CONSTANT");this.info.versionMajor=+e[1],this.info.versionMinor=+e[2];var n=this.info.statusCode=+e[3];this.info.statusMessage=e[4],1!=(n/100|0)&&204!==n&&304!==n||(this.body_bytes=0),this.state="HEADER"}},i.prototype.shouldKeepAlive=function(){if(this.info.versionMajor>0&&this.info.versionMinor>0){if(-1!==this.connection.indexOf("close"))return!1}else if(-1===this.connection.indexOf("keep-alive"))return!1;return!(null===this.body_bytes&&!this.isChunked)},i.prototype.HEADER=function(){var t=this.consumeLine();if(void 0!==t){var e=this.info;if(t)this.parseHeader(t,e.headers);else{for(var n,r,s=e.headers,a=!1,c=!1,h=0;h<s.length;h+=2)switch(s[h].toLowerCase()){case"transfer-encoding":this.isChunked="chunked"===s[h+1].toLowerCase();break;case"content-length":if(n=+s[h+1],a){if(n!==this.body_bytes)throw g("HPE_UNEXPECTED_CONTENT_LENGTH")}else a=!0,this.body_bytes=n;break;case"connection":this.connection+=s[h+1].toLowerCase();break;case"upgrade":c=!0}if(this.isChunked&&a&&(this.isChunked=!1),c&&-1!=this.connection.indexOf("upgrade")?e.upgrade=this.type===i.REQUEST||101===e.statusCode:e.upgrade=e.method===l,e.shouldKeepAlive=this.shouldKeepAlive(),2===(r=u?this.userCall()(this[o](e)):this.userCall()(this[o](e.versionMajor,e.versionMinor,e.headers,e.method,e.url,e.statusCode,e.statusMessage,e.upgrade,e.shouldKeepAlive))))return this.nextRequest(),!0;if(this.isChunked&&!r)this.state="BODY_CHUNKHEAD";else{if(r||0===this.body_bytes)return this.nextRequest(),e.upgrade;null===this.body_bytes?this.state="BODY_RAW":this.state="BODY_SIZED"}}}},i.prototype.BODY_CHUNKHEAD=function(){var t=this.consumeLine();void 0!==t&&(this.body_bytes=parseInt(t,16),this.body_bytes?this.state="BODY_CHUNK":this.state="BODY_CHUNKTRAILERS")},i.prototype.BODY_CHUNK=function(){var t=Math.min(this.end-this.offset,this.body_bytes);this.userCall()(this[a](this.chunk,this.offset,t)),this.offset+=t,this.body_bytes-=t,this.body_bytes||(this.state="BODY_CHUNKEMPTYLINE")},i.prototype.BODY_CHUNKEMPTYLINE=function(){var t=this.consumeLine();void 0!==t&&(r.equal(t,""),this.state="BODY_CHUNKHEAD")},i.prototype.BODY_CHUNKTRAILERS=function(){var t=this.consumeLine();void 0!==t&&(t?this.parseHeader(t,this.trailers):(this.trailers.length&&this.userCall()(this[s](this.trailers,"")),this.nextRequest()))},i.prototype.BODY_RAW=function(){var t=this.end-this.offset;this.userCall()(this[a](this.chunk,this.offset,t)),this.offset=this.end},i.prototype.BODY_SIZED=function(){var t=Math.min(this.end-this.offset,this.body_bytes);this.userCall()(this[a](this.chunk,this.offset,t)),this.offset+=t,this.body_bytes-=t,this.body_bytes||this.nextRequest()},["Headers","HeadersComplete","Body","MessageComplete"].forEach(function(t){var e=i["kOn"+t];Object.defineProperty(i.prototype,"on"+t,{get:function(){return this[e]},set:function(t){return this._compatMode0_11=!0,l="CONNECT",this[e]=t}})})},function(t,e){t.exports=require("assert")},function(t,e,n){"use strict";var r=n(69),i=n(70),s=function(){this._rsv1=this._rsv2=this._rsv3=null,this._byName={},this._inOrder=[],this._sessions=[],this._index={}};s.MESSAGE_OPCODES=[1,2];var o={add:function(t){if("string"!=typeof t.name)throw new TypeError("extension.name must be a string");if("permessage"!==t.type)throw new TypeError('extension.type must be "permessage"');if("boolean"!=typeof t.rsv1)throw new TypeError("extension.rsv1 must be true or false");if("boolean"!=typeof t.rsv2)throw new TypeError("extension.rsv2 must be true or false");if("boolean"!=typeof t.rsv3)throw new TypeError("extension.rsv3 must be true or false");if(this._byName.hasOwnProperty(t.name))throw new TypeError('An extension with name "'+t.name+'" is already registered');this._byName[t.name]=t,this._inOrder.push(t)},generateOffer:function(){var t=[],e=[],n={};return this._inOrder.forEach(function(i){var s=i.createClientSession();if(s){var o=[i,s];t.push(o),n[i.name]=o;var a=s.generateOffer();(a=a?[].concat(a):[]).forEach(function(t){e.push(r.serializeParams(i.name,t))},this)}},this),this._sessions=t,this._index=n,e.length>0?e.join(", "):null},activate:function(t){var e=[];r.parseHeader(t).eachOffer(function(t,n){var i=this._index[t];if(!i)throw new Error('Server sent an extension response for unknown extension "'+t+'"');var s=i[0],o=i[1],a=this._reserved(s);if(a)throw new Error("Server sent two extension responses that use the RSV"+a[0]+' bit: "'+a[1]+'" and "'+s.name+'"');if(!0!==o.activate(n))throw new Error("Server sent unacceptable extension parameters: "+r.serializeParams(t,n));this._reserve(s),e.push(i)},this),this._sessions=e,this._pipeline=new i(e)},generateResponse:function(t){var e=[],n=[],s=r.parseHeader(t);return this._inOrder.forEach(function(t){var i=s.byName(t.name);if(0!==i.length&&!this._reserved(t)){var o=t.createServerSession(i);o&&(this._reserve(t),e.push([t,o]),n.push(r.serializeParams(t.name,o.generateResponse())))}},this),this._sessions=e,this._pipeline=new i(e),n.length>0?n.join(", "):null},validFrameRsv:function(t){var e,n={rsv1:!1,rsv2:!1,rsv3:!1};if(s.MESSAGE_OPCODES.indexOf(t.opcode)>=0)for(var r=0,i=this._sessions.length;r<i;r++)e=this._sessions[r][0],n.rsv1=n.rsv1||e.rsv1,n.rsv2=n.rsv2||e.rsv2,n.rsv3=n.rsv3||e.rsv3;return(n.rsv1||!t.rsv1)&&(n.rsv2||!t.rsv2)&&(n.rsv3||!t.rsv3)},processIncomingMessage:function(t,e,n){this._pipeline.processIncomingMessage(t,e,n)},processOutgoingMessage:function(t,e,n){this._pipeline.processOutgoingMessage(t,e,n)},close:function(t,e){if(!this._pipeline)return t.call(e);this._pipeline.close(t,e)},_reserve:function(t){this._rsv1=this._rsv1||t.rsv1&&t.name,this._rsv2=this._rsv2||t.rsv2&&t.name,this._rsv3=this._rsv3||t.rsv3&&t.name},_reserved:function(t){return this._rsv1&&t.rsv1?[1,this._rsv1]:this._rsv2&&t.rsv2?[2,this._rsv2]:!(!this._rsv3||!t.rsv3)&&[3,this._rsv3]}};for(var a in o)s.prototype[a]=o[a];t.exports=s},function(t,e,n){"use strict";var r=/([!#\$%&'\*\+\-\.\^_`\|~0-9A-Za-z]+)/,i=/([^!#\$%&'\*\+\-\.\^_`\|~0-9A-Za-z])/g,s=new RegExp(r.source+"(?:=(?:"+r.source+"|"+/"((?:\\[\x00-\x7f]|[^\x00-\x08\x0a-\x1f\x7f"])*)"/.source+"))?"),o=new RegExp(r.source+"(?: *; *"+s.source+")*","g"),a=new RegExp("^"+o.source+"(?: *, *"+o.source+")*$"),c=/^-?(0|[1-9][0-9]*)(\.[0-9]+)?$/,u=Object.prototype.hasOwnProperty,h={parseHeader:function(t){var e=new l;if(""===t||void 0===t)return e;if(!a.test(t))throw new SyntaxError("Invalid Sec-WebSocket-Extensions header: "+t);return t.match(o).forEach(function(t){var n=t.match(new RegExp(s.source,"g")),r=n.shift(),i={};n.forEach(function(t){var e,n=t.match(s),r=n[1];e=void 0!==n[2]?n[2]:void 0===n[3]||n[3].replace(/\\/g,""),c.test(e)&&(e=parseFloat(e)),u.call(i,r)?(i[r]=[].concat(i[r]),i[r].push(e)):i[r]=e},this),e.push(r,i)},this),e},serializeParams:function(t,e){var n=[],r=function(t,e){e instanceof Array?e.forEach(function(e){r(t,e)}):!0===e?n.push(t):"number"==typeof e?n.push(t+"="+e):i.test(e)?n.push(t+'="'+e.replace(/"/g,'\\"')+'"'):n.push(t+"="+e)};for(var s in e)r(s,e[s]);return[t].concat(n).join("; ")}},l=function(){this._byName={},this._inOrder=[]};l.prototype.push=function(t,e){u.call(this._byName,t)||(this._byName[t]=[]),this._byName[t].push(e),this._inOrder.push({name:t,params:e})},l.prototype.eachOffer=function(t,e){for(var n=this._inOrder,r=0,i=n.length;r<i;r++)t.call(e,n[r].name,n[r].params)},l.prototype.byName=function(t){return this._byName[t]||[]},l.prototype.toArray=function(){return this._inOrder.slice()},t.exports=h},function(t,e,n){"use strict";var r=n(71),i=n(35),s=function(t){this._cells=t.map(function(t){return new r(t)}),this._stopped={incoming:!1,outgoing:!1}};s.prototype.processIncomingMessage=function(t,e,n){this._stopped.incoming||this._loop("incoming",this._cells.length-1,-1,-1,t,e,n)},s.prototype.processOutgoingMessage=function(t,e,n){this._stopped.outgoing||this._loop("outgoing",0,this._cells.length,1,t,e,n)},s.prototype.close=function(t,e){this._stopped={incoming:!0,outgoing:!0};var n=this._cells.map(function(t){return t.close()});t&&i.all(n).then(function(){t.call(e)})},s.prototype._loop=function(t,e,n,r,i,s,o){for(var a=this._cells,c=a.length,u=this;c--;)a[c].pending(t);var h=function(e,i,c){if(e===n)return s.call(o,i,c);a[e][t](i,c,function(n,i){n&&(u._stopped[t]=!0),h(e+r,n,i)})};h(e,null,i)},t.exports=s},function(t,e,n){"use strict";var r=n(72),i=n(35),s=function(t){this._ext=t[0],this._session=t[1],this._functors={incoming:new r(this._session,"processIncomingMessage"),outgoing:new r(this._session,"processOutgoingMessage")}};s.prototype.pending=function(t){var e=this._functors[t];e._stopped||(e.pending+=1)},s.prototype.incoming=function(t,e,n,r){this._exec("incoming",t,e,n,r)},s.prototype.outgoing=function(t,e,n,r){this._exec("outgoing",t,e,n,r)},s.prototype.close=function(){return this._closed=this._closed||new i,this._doClose(),this._closed},s.prototype._exec=function(t,e,n,r,i){this._functors[t].call(e,n,function(t,e){t&&(t.message=this._ext.name+": "+t.message),r.call(i,t,e),this._doClose()},this)},s.prototype._doClose=function(){var t=this._functors.incoming,e=this._functors.outgoing;this._closed&&t.pending+e.pending===0&&(this._session&&this._session.close(),this._session=null,this._closed.done())},t.exports=s},function(t,e,n){"use strict";var r=n(34),i=function(t,e){this._session=t,this._method=e,this._queue=new r(i.QUEUE_SIZE),this._stopped=!1,this.pending=0};i.QUEUE_SIZE=8,i.prototype.call=function(t,e,n,r){if(!this._stopped){var i={error:t,message:e,callback:n,context:r,done:!1},s=!1,o=this;if(this._queue.push(i),i.error)return i.done=!0,this._stop(),this._flushQueue();var a=function(t,e){s^(s=!0)&&(t?(o._stop(),i.error=t,i.message=null):i.message=e,i.done=!0,o._flushQueue())};try{this._session[this._method](e,a)}catch(t){a(t)}}},i.prototype._stop=function(){this.pending=this._queue.length,this._stopped=!0},i.prototype._flushQueue=function(){for(var t,e=this._queue;e.length>0&&e.peek().done;)(t=e.shift()).error?(this.pending=0,e.clear()):this.pending-=1,t.callback.call(t.context,t.error,t.message)},t.exports=i},function(t,e,n){"use strict";var r=function(){},i={final:!1,rsv1:!1,rsv2:!1,rsv3:!1,opcode:null,masked:!1,maskingKey:null,lengthBytes:1,length:0,payload:null};for(var s in i)r.prototype[s]=i[s];t.exports=r},function(t,e,n){"use strict";var r=function(){this.rsv1=!1,this.rsv2=!1,this.rsv3=!1,this.opcode=null,this.length=0,this._chunks=[]},i={read:function(){if(this.data)return this.data;this.data=new Buffer(this.length);for(var t=0,e=0,n=this._chunks.length;e<n;e++)this._chunks[e].copy(this.data,t),t+=this._chunks[e].length;return this.data},pushFrame:function(t){this.rsv1=this.rsv1||t.rsv1,this.rsv2=this.rsv2||t.rsv2,this.rsv3=this.rsv3||t.rsv3,null===this.opcode&&(this.opcode=t.opcode),this._chunks.push(t.payload),this.length+=t.length}};for(var s in i)r.prototype[s]=i[s];t.exports=r},function(t,e,n){"use strict";var r=n(17).Stream,i=n(18),s=n(2),o=n(8),a=n(22),c=n(23),u={"ws:":80,"wss:":443},h=function(t,e,n){this._client=t,this._http=new c("response"),this._origin="object"==typeof t.url?t.url:i.parse(t.url),this._url="object"==typeof e?e:i.parse(e),this._options=n||{},this._state=0,this.readable=this.writable=!0,this._paused=!1,this._headers=new a,this._headers.set("Host",this._origin.host),this._headers.set("Connection","keep-alive"),this._headers.set("Proxy-Connection","keep-alive");var r=this._url.auth&&new Buffer(this._url.auth,"utf8").toString("base64");r&&this._headers.set("Proxy-Authorization","Basic "+r)};s.inherits(h,r);var l={setHeader:function(t,e){return 0===this._state&&(this._headers.set(t,e),!0)},start:function(){if(0!==this._state)return!1;this._state=1;var t=this._origin,e=t.port||u[t.protocol],n=["CONNECT "+t.hostname+":"+e+" HTTP/1.1",this._headers.toString(),""];return this.emit("data",new Buffer(n.join("\r\n"),"utf8")),!0},pause:function(){this._paused=!0},resume:function(){this._paused=!1,this.emit("drain")},write:function(t){if(!this.writable)return!1;if(this._http.parse(t),!this._http.isComplete())return!this._paused;if(this.statusCode=this._http.statusCode,this.headers=this._http.headers,200===this.statusCode)this.emit("connect",new o.ConnectEvent);else{var e="Can't establish a connection to the server at "+this._origin.href;this.emit("error",new Error(e))}return this.end(),!this._paused},end:function(t){this.writable&&(void 0!==t&&this.write(t),this.readable=this.writable=!1,this.emit("close"),this.emit("end"))},destroy:function(){this.end()}};for(var f in l)h.prototype[f]=l[f];t.exports=h},function(t,e,n){"use strict";var r=n(2),i=n(23),s=n(8),o=n(36),a=n(77),c=n(33),u=function(t){s.call(this,null,null,t),this._http=new i("request")};r.inherits(u,s);var h={EVENTS:["open","message","error","close"],_bindEventListeners:function(){this.messages.on("error",function(){}),this.on("error",function(){})},parse:function(t){if(this._delegate)return this._delegate.parse(t);if(this._http.parse(t),this._http.isComplete()){this.method=this._http.method,this.url=this._http.url,this.headers=this._http.headers,this.body=this._http.body;var e=this;this._delegate=u.http(this,this._options),this._delegate.messages=this.messages,this._delegate.io=this.io,this._open(),this.EVENTS.forEach(function(t){this._delegate.on(t,function(n){e.emit(t,n)})},this),this.protocol=this._delegate.protocol,this.version=this._delegate.version,this.parse(this._http.body),this.emit("connect",new s.ConnectEvent)}},_open:function(){this.__queue.forEach(function(t){this._delegate[t[0]].apply(this._delegate,t[1])},this),this.__queue=[]}};for(var l in["addExtension","setHeader","start","frame","text","binary","ping","close"].forEach(function(t){h[t]=function(){return this._delegate?this._delegate[t].apply(this._delegate,arguments):(this.__queue.push([t,arguments]),!0)}}),h)u.prototype[l]=h[l];u.isSecureRequest=function(t){if(t.connection&&void 0!==t.connection.authorized)return!0;if(t.socket&&t.socket.secure)return!0;var e=t.headers;return!!e&&("on"===e.https||"on"===e["x-forwarded-ssl"]||"https"===e["x-forwarded-scheme"]||"https"===e["x-forwarded-proto"])},u.determineUrl=function(t){return(this.isSecureRequest(t)?"wss:":"ws:")+"//"+t.headers.host+t.url},u.http=function(t,e){void 0===(e=e||{}).requireMasking&&(e.requireMasking=!0);var n=t.headers,r=this.determineUrl(t);return n["sec-websocket-version"]?new c(t,r,e):n["sec-websocket-key1"]?new a(t,r,e):new o(t,r,e)},t.exports=u},function(t,e,n){"use strict";var r=n(8),i=n(36),s=n(14),o=function(t){return parseInt(t.match(/[0-9]/g).join(""),10)},a=function(t){return t.match(/ /g).length},c=function(t,e,n){i.apply(this,arguments),this._stage=-1,this._body=[],this.version="hixie-76",this._headers.clear(),this._headers.set("Upgrade","WebSocket"),this._headers.set("Connection","Upgrade"),this._headers.set("Sec-WebSocket-Origin",this._request.headers.origin),this._headers.set("Sec-WebSocket-Location",this.url)};n(2).inherits(c,i);var u={BODY_SIZE:8,start:function(){return!!i.prototype.start.call(this)&&(this._started=!0,this._sendHandshakeBody(),!0)},close:function(){return 3!==this.readyState&&(this._write(new Buffer([255,0])),this.readyState=3,this.emit("close",new r.CloseEvent(null,null)),!0)},_handshakeResponse:function(){var t=(c=this._request.headers)["sec-websocket-key1"],e=o(t),n=a(t),r=c["sec-websocket-key2"],i=o(r),s=a(r);if(e%n!=0||i%s!=0)return this.emit("error",new Error("Client sent invalid Sec-WebSocket-Key headers")),this.close(),null;this._keyValues=[e/n,i/s];var c=["HTTP/1.1 101 WebSocket Protocol Handshake",this._headers.toString(),""];return new Buffer(c.join("\r\n"),"binary")},_handshakeSignature:function(){if(this._body.length<this.BODY_SIZE)return null;var t=s.createHash("md5"),e=new Buffer(8+this.BODY_SIZE);return e.writeUInt32BE(this._keyValues[0],0),e.writeUInt32BE(this._keyValues[1],4),new Buffer(this._body).copy(e,8,0,this.BODY_SIZE),t.update(e),new Buffer(t.digest("binary"),"binary")},_sendHandshakeBody:function(){if(this._started){var t=this._handshakeSignature();t&&(this._write(t),this._stage=0,this._open(),this._body.length>this.BODY_SIZE&&this.parse(this._body.slice(this.BODY_SIZE)))}},_parseLeadingByte:function(t){if(255!==t)return i.prototype._parseLeadingByte.call(this,t);this._closing=!0,this._length=0,this._stage=1}};for(var h in u)c.prototype[h]=u[h];t.exports=c},function(t,e,n){var r=n(2),i=n(79),s=n(80),o=n(18),a=n(16),c=n(24),u=(n(19),{"http:":80,"https:":443,"ws:":80,"wss:":443}),h=["https:","wss:"],l=function(t,e,n){n=n||{},this.url=t,this._driver=a.client(this.url,{maxLength:n.maxLength,protocols:e}),["open","error"].forEach(function(t){this._driver.on(t,function(){g.headers=g._driver.headers,g.statusCode=g._driver.statusCode})},this);var r=n.proxy||{},l=o.parse(r.origin||this.url),f=l.port||u[l.protocol],p=h.indexOf(l.protocol)>=0,d=function(){g._onConnect()},_=n.net||{},v=n.tls||{},m=r.origin?r.tls||{}:v,g=this;_.host=m.host=l.hostname,_.port=m.port=f,v.ca=v.ca||n.ca,m.servername=m.servername||l.hostname,this._stream=p?s.connect(m,d):i.connect(_,d),r.origin&&this._configureProxy(r,v),c.call(this,n)};r.inherits(l,c),l.prototype._onConnect=function(){(this._proxy||this._driver).start()},l.prototype._configureProxy=function(t,e){var n,r=o.parse(this.url),i=h.indexOf(r.protocol)>=0,a=this;if(this._proxy=this._driver.proxy(t.origin),t.headers)for(n in t.headers)this._proxy.setHeader(n,t.headers[n]);this._proxy.pipe(this._stream,{end:!1}),this._stream.pipe(this._proxy),this._proxy.on("connect",function(){if(i){var t={socket:a._stream,servername:r.hostname};for(n in e)t[n]=e[n];a._stream=s.connect(t),a._configureStream()}a._driver.io.pipe(a._stream),a._stream.pipe(a._driver.io),a._driver.start()}),this._proxy.on("error",function(t){a._driver.emit("error",t)})},t.exports=l},function(t,e){t.exports=require("net")},function(t,e){t.exports=require("tls")},function(t,e,n){var r=n(17).Stream,i=n(2),s=n(16),o=n(22),a=n(24),c=n(37),u=n(19),h=function(t,e,n){this.writable=!0,n=n||{},this._stream=e.socket,this._ping=n.ping||this.DEFAULT_PING,this._retry=n.retry||this.DEFAULT_RETRY;var r=s.isSecureRequest(t)?"https:":"http:";this.url=r+"//"+t.headers.host+t.url,this.lastEventId=t.headers["last-event-id"]||"",this.readyState=a.CONNECTING;var i=new o,c=this;if(n.headers)for(var u in n.headers)i.set(u,n.headers[u]);if(this._stream&&this._stream.writable){process.nextTick(function(){c._open()}),this._stream.setTimeout(0),this._stream.setNoDelay(!0);var h="HTTP/1.1 200 OK\r\nContent-Type: text/event-stream\r\nCache-Control: no-cache, no-store\r\nConnection: close\r\n"+i.toString()+"\r\nretry: "+Math.floor(1e3*this._retry)+"\r\n\r\n";this._write(h),this._stream.on("drain",function(){c.emit("drain")}),this._ping&&(this._pingTimer=setInterval(function(){c.ping()},1e3*this._ping)),["error","end"].forEach(function(t){c._stream.on(t,function(){c.close()})})}};i.inherits(h,r),h.isEventSource=function(t){return"GET"===t.method&&(t.headers.accept||"").split(/\s*,\s*/).indexOf("text/event-stream")>=0};var l={DEFAULT_PING:10,DEFAULT_RETRY:5,_write:function(t){if(!this.writable)return!1;try{return this._stream.write(t,"utf8")}catch(t){return!1}},_open:function(){if(this.readyState===a.CONNECTING){this.readyState=a.OPEN;var t=new u("open");t.initEvent("open",!1,!1),this.dispatchEvent(t)}},write:function(t){return this.send(t)},end:function(t){void 0!==t&&this.write(t),this.close()},send:function(t,e){if(this.readyState>a.OPEN)return!1;t=String(t).replace(/(\r\n|\r|\n)/g,"$1data: ");var n="";return(e=e||{}).event&&(n+="event: "+e.event+"\r\n"),e.id&&(n+="id: "+e.id+"\r\n"),n+="data: "+t+"\r\n\r\n",this._write(n)},ping:function(){return this._write(":\r\n\r\n")},close:function(){if(this.readyState>a.OPEN)return!1;this.readyState=a.CLOSED,this.writable=!1,this._pingTimer&&clearInterval(this._pingTimer),this._stream&&this._stream.end();var t=new u("close");return t.initEvent("close",!1,!1),this.dispatchEvent(t),!0}};for(var f in l)h.prototype[f]=l[f];for(var p in c)h.prototype[p]=c[p];t.exports=h},function(t,e,n){"use strict";var r=n(0),i=n(10),s=n(20),o=n(21),a=n(11),c=n(12);function u(t){if(!a.enabled&&!o.enabled)throw new Error("Transport created when disabled");i.call(this,t,"/xhr_streaming",s,o)}r(u,i),u.enabled=function(t){return!t.nullOrigin&&!c.isOpera()&&o.enabled},u.transportName="xhr-streaming",u.roundTrips=2,u.needBody=!!global.document,t.exports=u},function(t,e,n){"use strict";var r=n(0),i=n(1).EventEmitter,s=function(){};function o(t,e){s(t),i.call(this),this.sendBuffer=[],this.sender=e,this.url=t}r(o,i),o.prototype.send=function(t){s("send",t),this.sendBuffer.push(t),this.sendStop||this.sendSchedule()},o.prototype.sendScheduleWait=function(){s("sendScheduleWait");var t,e=this;this.sendStop=function(){s("sendStop"),e.sendStop=null,clearTimeout(t)},t=setTimeout(function(){s("timeout"),e.sendStop=null,e.sendSchedule()},25)},o.prototype.sendSchedule=function(){s("sendSchedule",this.sendBuffer.length);var t=this;if(this.sendBuffer.length>0){var e="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,e,function(e){t.sendStop=null,e?(s("error",e),t.emit("close",e.code||1006,"Sending error: "+e),t.close()):t.sendScheduleWait()}),this.sendBuffer=[]}},o.prototype._cleanup=function(){s("_cleanup"),this.removeAllListeners()},o.prototype.close=function(){s("close"),this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},t.exports=o},function(t,e,n){"use strict";var r=n(0),i=n(1).EventEmitter,s=function(){};function o(t,e,n){s(e),i.call(this),this.Receiver=t,this.receiveUrl=e,this.AjaxObject=n,this._scheduleReceiver()}r(o,i),o.prototype._scheduleReceiver=function(){s("_scheduleReceiver");var t=this,e=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);e.on("message",function(e){s("message",e),t.emit("message",e)}),e.once("close",function(n,r){s("close",n,r,t.pollIsClosing),t.poll=e=null,t.pollIsClosing||("network"===r?t._scheduleReceiver():(t.emit("close",n||1006,r),t.removeAllListeners()))})},o.prototype.abort=function(){s("abort"),this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},t.exports=o},function(t,e,n){"use strict";var r=n(0),i=n(1).EventEmitter,s=n(44),o=function(){};function a(t){o(t),i.call(this);var e=this,n=this.es=new s(t);n.onmessage=function(t){o("message",t.data),e.emit("message",decodeURI(t.data))},n.onerror=function(t){o("error",n.readyState,t);var r=2!==n.readyState?"network":"permanent";e._cleanup(),e._close(r)}}r(a,i),a.prototype.abort=function(){o("abort"),this._cleanup(),this._close("user")},a.prototype._cleanup=function(){o("cleanup");var t=this.es;t&&(t.onmessage=t.onerror=null,t.close(),this.es=null)},a.prototype._close=function(t){o("close",t);var e=this;setTimeout(function(){e.emit("close",null,t),e.removeAllListeners()},200)},t.exports=a},function(t,e,n){"use strict";var r=n(15);function i(t){return"string"==typeof t&&(t=r(t)),t.protocol&&t.hostname?(t.protocol+"//"+t.host).toLowerCase():"null"}i.same=function(t,e){return i(t)===i(e)},t.exports=i},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e,n){"use strict";var r=n(0),i=n(13),s=n(4),o=n(1).EventEmitter,a=n(9),c=function(){};function u(t){c(t),o.call(this);var e=this;i.polluteGlobalNamespace(),this.id="a"+a.string(6),t=s.addQuery(t,"c="+decodeURIComponent(i.WPrefix+"."+this.id)),c("using htmlfile",u.htmlfileEnabled);var n=u.htmlfileEnabled?i.createHtmlfile:i.createIframe;global[i.WPrefix][this.id]={start:function(){c("start"),e.iframeObj.loaded()},message:function(t){c("message",t),e.emit("message",t)},stop:function(){c("stop"),e._cleanup(),e._close("network")}},this.iframeObj=n(t,function(){c("callback"),e._cleanup(),e._close("permanent")})}r(u,o),u.prototype.abort=function(){c("abort"),this._cleanup(),this._close("user")},u.prototype._cleanup=function(){c("_cleanup"),this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete global[i.WPrefix][this.id]},u.prototype._close=function(t){c("_close",t),this.emit("close",null,t),this.removeAllListeners()},u.htmlfileEnabled=!1;var h=["Active"].concat("Object").join("X");if(h in global)try{u.htmlfileEnabled=!!new global[h]("htmlfile")}catch(t){}u.enabled=u.htmlfileEnabled||i.iframeEnabled,t.exports=u},function(t,e,n){"use strict";var r=n(0),i=n(10),s=n(42),o=n(20),a=n(25);function c(t){if(!a.enabled)throw new Error("Transport created when disabled");i.call(this,t,"/xhr",o,a)}r(c,i),c.enabled=s.enabled,c.transportName="xdr-polling",c.roundTrips=2,t.exports=c},function(t,e,n){"use strict";var r=n(0),i=n(38),s=n(92),o=n(93);function a(t){if(!a.enabled())throw new Error("Transport created when disabled");i.call(this,t,"/jsonp",o,s)}r(a,i),a.enabled=function(){return!!global.document},a.transportName="jsonp-polling",a.roundTrips=1,a.needBody=!0,t.exports=a},function(t,e,n){"use strict";var r=n(13),i=n(9),s=n(12),o=n(4),a=n(0),c=n(1).EventEmitter,u=function(){};function h(t){u(t);var e=this;c.call(this),r.polluteGlobalNamespace(),this.id="a"+i.string(6);var n=o.addQuery(t,"c="+encodeURIComponent(r.WPrefix+"."+this.id));global[r.WPrefix][this.id]=this._callback.bind(this),this._createScript(n),this.timeoutId=setTimeout(function(){u("timeout"),e._abort(new Error("JSONP script loaded abnormally (timeout)"))},h.timeout)}a(h,c),h.prototype.abort=function(){if(u("abort"),global[r.WPrefix][this.id]){var t=new Error("JSONP user aborted read");t.code=1e3,this._abort(t)}},h.timeout=35e3,h.scriptErrorTimeout=1e3,h.prototype._callback=function(t){u("_callback",t),this._cleanup(),this.aborting||(t&&(u("message",t),this.emit("message",t)),this.emit("close",null,"network"),this.removeAllListeners())},h.prototype._abort=function(t){u("_abort",t),this._cleanup(),this.aborting=!0,this.emit("close",t.code,t.message),this.removeAllListeners()},h.prototype._cleanup=function(){if(u("_cleanup"),clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var t=this.script;t.parentNode.removeChild(t),t.onreadystatechange=t.onerror=t.onload=t.onclick=null,this.script=null}delete global[r.WPrefix][this.id]},h.prototype._scriptError=function(){u("_scriptError");var t=this;this.errorTimer||(this.errorTimer=setTimeout(function(){t.loadedOkay||t._abort(new Error("JSONP script loaded abnormally (onerror)"))},h.scriptErrorTimeout))},h.prototype._createScript=function(t){u("_createScript",t);var e,n=this,r=this.script=global.document.createElement("script");if(r.id="a"+i.string(8),r.src=t,r.type="text/javascript",r.charset="UTF-8",r.onerror=this._scriptError.bind(this),r.onload=function(){u("onload"),n._abort(new Error("JSONP script loaded abnormally (onload)"))},r.onreadystatechange=function(){if(u("onreadystatechange",r.readyState),/loaded|closed/.test(r.readyState)){if(r&&r.htmlFor&&r.onclick){n.loadedOkay=!0;try{r.onclick()}catch(t){}}r&&n._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},void 0===r.async&&global.document.attachEvent)if(s.isOpera())(e=this.script2=global.document.createElement("script")).text="try{var a = document.getElementById('"+r.id+"'); if(a)a.onerror();}catch(x){};",r.async=e.async=!1;else{try{r.htmlFor=r.id,r.event="onclick"}catch(t){}r.async=!0}void 0!==r.async&&(r.async=!0);var o=global.document.getElementsByTagName("head")[0];o.insertBefore(r,o.firstChild),e&&o.insertBefore(e,o.firstChild)},t.exports=h},function(t,e,n){"use strict";var r,i,s=n(9),o=n(4);t.exports=function(t,e,n){r||((r=global.document.createElement("form")).style.display="none",r.style.position="absolute",r.method="POST",r.enctype="application/x-www-form-urlencoded",r.acceptCharset="UTF-8",(i=global.document.createElement("textarea")).name="d",r.appendChild(i),global.document.body.appendChild(r));var a="a"+s.string(8);r.target=a,r.action=o.addQuery(o.addPath(t,"/jsonp_send"),"i="+a);var c=function(t){try{return global.document.createElement('<iframe name="'+t+'">')}catch(n){var e=global.document.createElement("iframe");return e.name=t,e}}(a);c.id=a,c.style.display="none",r.appendChild(c);try{i.value=e}catch(t){}r.submit();var u=function(t){c.onerror&&(c.onreadystatechange=c.onerror=c.onload=null,setTimeout(function(){c.parentNode.removeChild(c),c=null},500),i.value="",n(t))};return c.onerror=function(){u()},c.onload=function(){u()},c.onreadystatechange=function(t){c.readyState,"complete"===c.readyState&&u()},function(){u(new Error("Aborted"))}}},function(t,e,n){"use strict";n(95);var r,i=n(15),s=n(0),o=n(5),a=n(9),c=n(96),u=n(4),h=n(7),l=n(97),f=n(27),p=n(12),d=n(98),_=n(28),v=n(99),m=n(49),g=n(100),y=n(101),b=n(102),E=function(){};function w(t,e,n){if(!(this instanceof w))return new w(t,e,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");v.call(this),this.readyState=w.CONNECTING,this.extensions="",this.protocol="",(n=n||{}).protocols_whitelist&&d.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports,this._transportOptions=n.transportOptions||{};var r=n.sessionId||8;if("function"==typeof r)this._generateSessionId=r;else{if("number"!=typeof r)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return a.string(r)}}this._server=n.server||a.numberString(1e3);var s=new i(t);if(!s.host||!s.protocol)throw new SyntaxError("The URL '"+t+"' is invalid");if(s.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==s.protocol&&"https:"!==s.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+s.protocol+"' is not allowed.");var o="https:"===s.protocol;if("https:"===m.protocol&&!o)throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");e?Array.isArray(e)||(e=[e]):e=[];var c=e.sort();c.forEach(function(t,e){if(!t)throw new SyntaxError("The protocols entry '"+t+"' is invalid.");if(e<c.length-1&&t===c[e+1])throw new SyntaxError("The protocols entry '"+t+"' is duplicated.")});var h=u.getOrigin(m.href);this._origin=h?h.toLowerCase():null,s.set("pathname",s.pathname.replace(/\/+$/,"")),this.url=s.href,E("using url",this.url),this._urlInfo={nullOrigin:!p.hasDomain(),sameOrigin:u.isOriginEqual(this.url,m.href),sameScheme:u.isSchemeEqual(this.url,m.href)},this._ir=new b(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function O(t){return 1e3===t||t>=3e3&&t<=4999}s(w,v),w.prototype.close=function(t,e){if(t&&!O(t))throw new Error("InvalidAccessError: Invalid code");if(e&&e.length>123)throw new SyntaxError("reason argument has an invalid length");this.readyState!==w.CLOSING&&this.readyState!==w.CLOSED&&this._close(t||1e3,e||"Normal closure",!0)},w.prototype.send=function(t){if("string"!=typeof t&&(t=""+t),this.readyState===w.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===w.OPEN&&this._transport.send(c.quote(t))},w.version=n(46),w.CONNECTING=0,w.OPEN=1,w.CLOSING=2,w.CLOSED=3,w.prototype._receiveInfo=function(t,e){if(E("_receiveInfo",e),this._ir=null,t){this._rto=this.countRTO(e),this._transUrl=t.base_url?t.base_url:this.url,t=f.extend(t,this._urlInfo),E("info",t);var n=r.filterToEnabled(this._transportsWhitelist,t);this._transports=n.main,E(this._transports.length+" enabled transports"),this._connect()}else this._close(1002,"Cannot connect to server")},w.prototype._connect=function(){for(var t=this._transports.shift();t;t=this._transports.shift()){if(E("attempt",t.transportName),t.needBody&&(!global.document.body||void 0!==global.document.readyState&&"complete"!==global.document.readyState&&"interactive"!==global.document.readyState))return E("waiting for body"),this._transports.unshift(t),void h.attachEvent("load",this._connect.bind(this));var e=this._rto*t.roundTrips||5e3;this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),e),E("using timeout",e);var n=u.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),r=this._transportOptions[t.transportName];E("transport url",n);var i=new t(n,this._transUrl,r);return i.on("message",this._transportMessage.bind(this)),i.once("close",this._transportClose.bind(this)),i.transportName=t.transportName,void(this._transport=i)}this._close(2e3,"All transports failed",!1)},w.prototype._transportTimeout=function(){E("_transportTimeout"),this.readyState===w.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},w.prototype._transportMessage=function(t){E("_transportMessage",t);var e,n=this,r=t.slice(0,1),i=t.slice(1);switch(r){case"o":return void this._open();case"h":return this.dispatchEvent(new _("heartbeat")),void E("heartbeat",this.transport)}if(i)try{e=o.parse(i)}catch(t){E("bad json",i)}if(void 0!==e)switch(r){case"a":Array.isArray(e)&&e.forEach(function(t){E("message",n.transport,t),n.dispatchEvent(new y(t))});break;case"m":E("message",this.transport,e),this.dispatchEvent(new y(e));break;case"c":Array.isArray(e)&&2===e.length&&this._close(e[0],e[1],!0)}else E("empty payload",i)},w.prototype._transportClose=function(t,e){E("_transportClose",this.transport,t,e),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),O(t)||2e3===t||this.readyState!==w.CONNECTING?this._close(t,e):this._connect()},w.prototype._open=function(){E("_open",this._transport.transportName,this.readyState),this.readyState===w.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=w.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new _("open")),E("connected",this.transport)):this._close(1006,"Server lost session")},w.prototype._close=function(t,e,n){E("_close",this.transport,t,e,n,this.readyState);var r=!1;if(this._ir&&(r=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===w.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=w.CLOSING,setTimeout(function(){this.readyState=w.CLOSED,r&&this.dispatchEvent(new _("error"));var i=new g("close");i.wasClean=n||!1,i.code=t||1e3,i.reason=e,this.dispatchEvent(i),this.onmessage=this.onclose=this.onerror=null,E("disconnected")}.bind(this),0)},w.prototype.countRTO=function(t){return t>100?4*t:300+t},t.exports=function(t){return r=l(t),n(105)(w,t),w}},function(t,e,n){"use strict";var r,i=Array.prototype,s=Object.prototype,o=Function.prototype,a=String.prototype,c=i.slice,u=s.toString,h=function(t){return"[object Function]"===s.toString.call(t)},l=function(t){return"[object String]"===u.call(t)},f=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(t){return!1}}();r=f?function(t,e,n,r){!r&&e in t||Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(t,e,n,r){!r&&e in t||(t[e]=n)};var p=function(t,e,n){for(var i in e)s.hasOwnProperty.call(e,i)&&r(t,i,e[i],n)},d=function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return Object(t)};function _(){}p(o,{bind:function(t){var e=this;if(!h(e))throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var n=c.call(arguments,1),r=Math.max(0,e.length-n.length),i=[],s=0;s<r;s++)i.push("$"+s);var o=Function("binder","return function ("+i.join(",")+"){ return binder.apply(this, arguments); }")(function(){if(this instanceof o){var r=e.apply(this,n.concat(c.call(arguments)));return Object(r)===r?r:this}return e.apply(t,n.concat(c.call(arguments)))});return e.prototype&&(_.prototype=e.prototype,o.prototype=new _,_.prototype=null),o}}),p(Array,{isArray:function(t){return"[object Array]"===u.call(t)}});var v=Object("a"),m="a"!==v[0]||!(0 in v);p(i,{forEach:function(t){var e=d(this),n=m&&l(this)?this.split(""):e,r=arguments[1],i=-1,s=n.length>>>0;if(!h(t))throw new TypeError;for(;++i<s;)i in n&&t.call(r,n[i],i,e)}},!function(t){var e=!0,n=!0;return t&&(t.call("foo",function(t,n,r){"object"!=typeof r&&(e=!1)}),t.call([1],function(){n="string"==typeof this},"x")),!!t&&e&&n}(i.forEach));var g=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);p(i,{indexOf:function(t){var e=m&&l(this)?this.split(""):d(this),n=e.length>>>0;if(!n)return-1;var r=0;for(arguments.length>1&&(r=function(t){var e=+t;return e!=e?e=0:0!==e&&e!==1/0&&e!==-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}(arguments[1])),r=r>=0?r:Math.max(0,n+r);r<n;r++)if(r in e&&e[r]===t)return r;return-1}},g);var y=a.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?function(){var t=void 0===/()??/.exec("")[1];a.split=function(e,n){var r=this;if(void 0===e&&0===n)return[];if("[object RegExp]"!==u.call(e))return y.call(this,e,n);var s,o,a,c,h=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":""),f=0;for(e=new RegExp(e.source,l+"g"),r+="",t||(s=new RegExp("^"+e.source+"$(?!\\s)",l)),n=void 0===n?-1>>>0:n>>>0;(o=e.exec(r))&&!((a=o.index+o[0].length)>f&&(h.push(r.slice(f,o.index)),!t&&o.length>1&&o[0].replace(s,function(){for(var t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(o[t]=void 0)}),o.length>1&&o.index<r.length&&i.push.apply(h,o.slice(1)),c=o[0].length,f=a,h.length>=n));)e.lastIndex===o.index&&e.lastIndex++;return f===r.length?!c&&e.test("")||h.push(""):h.push(r.slice(f)),h.length>n?h.slice(0,n):h}}():"0".split(void 0,0).length&&(a.split=function(t,e){return void 0===t&&0===e?[]:y.call(this,t,e)});var b=a.substr,E="".substr&&"b"!=="0b".substr(-1);p(a,{substr:function(t,e){return b.call(this,t<0&&(t=this.length+t)<0?0:t,e)}},E)},function(t,e,n){"use strict";var r,i=n(5),s=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g;t.exports={quote:function(t){var e=i.stringify(t);return s.lastIndex=0,s.test(e)?(r||(r=function(t){var e,n={},r=[];for(e=0;e<65536;e++)r.push(String.fromCharCode(e));return t.lastIndex=0,r.join("").replace(t,function(t){return n[t]="\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4),""}),t.lastIndex=0,n}(s)),e.replace(s,function(t){return r[t]})):e}}},function(t,e,n){"use strict";t.exports=function(t){return{filterToEnabled:function(e,n){var r={main:[],facade:[]};return e?"string"==typeof e&&(e=[e]):e=[],t.forEach(function(t){t&&("websocket"===t.transportName&&!1===n.websocket||(e.length&&-1===e.indexOf(t.transportName)?t.transportName:t.enabled(n)?(t.transportName,r.main.push(t),t.facadeTransport&&r.facade.push(t.facadeTransport)):t.transportName))}),r}}}},function(t,e,n){"use strict";var r={};["log","debug","warn"].forEach(function(t){var e;try{e=global.console&&global.console[t]&&global.console[t].apply}catch(t){}r[t]=e?function(){return global.console[t].apply(global.console,arguments)}:"log"===t?function(){}:r.log}),t.exports=r},function(t,e,n){"use strict";function r(){this._listeners={}}r.prototype.addEventListener=function(t,e){t in this._listeners||(this._listeners[t]=[]);var n=this._listeners[t];-1===n.indexOf(e)&&(n=n.concat([e])),this._listeners[t]=n},r.prototype.removeEventListener=function(t,e){var n=this._listeners[t];if(n){var r=n.indexOf(e);-1===r||(n.length>1?this._listeners[t]=n.slice(0,r).concat(n.slice(r+1)):delete this._listeners[t])}},r.prototype.dispatchEvent=function(){var t=arguments[0],e=t.type,n=1===arguments.length?[t]:Array.apply(null,arguments);if(this["on"+e]&&this["on"+e].apply(this,n),e in this._listeners)for(var r=this._listeners[e],i=0;i<r.length;i++)r[i].apply(this,n)},t.exports=r},function(t,e,n){"use strict";var r=n(0),i=n(28);function s(){i.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}r(s,i),t.exports=s},function(t,e,n){"use strict";var r=n(0),i=n(28);function s(t){i.call(this),this.initEvent("message",!1,!1),this.data=t}r(s,i),t.exports=s},function(t,e,n){"use strict";var r=n(1).EventEmitter,i=n(0),s=n(4),o=n(25),a=n(21),c=n(11),u=n(103),h=n(104),l=n(51),f=function(){};function p(t,e){f(t);var n=this;r.call(this),setTimeout(function(){n.doXhr(t,e)},0)}i(p,r),p._getReceiver=function(t,e,n){return n.sameOrigin?new l(e,c):a.enabled?new l(e,a):o.enabled&&n.sameScheme?new l(e,o):h.enabled()?new h(t,e):new l(e,u)},p.prototype.doXhr=function(t,e){var n=this,r=s.addPath(t,"/info");f("doXhr",r),this.xo=p._getReceiver(t,r,e),this.timeoutRef=setTimeout(function(){f("timeout"),n._cleanup(!1),n.emit("finish")},p.timeout),this.xo.once("finish",function(t,e){f("finish",t,e),n._cleanup(!0),n.emit("finish",t,e)})},p.prototype._cleanup=function(t){f("_cleanup"),clearTimeout(this.timeoutRef),this.timeoutRef=null,!t&&this.xo&&this.xo.close(),this.xo=null},p.prototype.close=function(){f("close"),this.removeAllListeners(),this._cleanup(!1)},p.timeout=8e3,t.exports=p},function(t,e,n){"use strict";var r=n(1).EventEmitter;function i(){var t=this;r.call(this),this.to=setTimeout(function(){t.emit("finish",200,"{}")},i.timeout)}n(0)(i,r),i.prototype.close=function(){clearTimeout(this.to)},i.timeout=2e3,t.exports=i},function(t,e,n){"use strict";var r=n(1).EventEmitter,i=n(0),s=n(5),o=n(7),a=n(45),c=n(50),u=function(){};function h(t,e){var n=this;r.call(this);var i=function(){var r=n.ifr=new a(c.transportName,e,t);r.once("message",function(t){if(t){var e;try{e=s.parse(t)}catch(e){return u("bad json",t),n.emit("finish"),void n.close()}var r=e[0],i=e[1];n.emit("finish",r,i)}n.close()}),r.once("close",function(){n.emit("finish"),n.close()})};global.document.body?i():o.attachEvent("load",i)}i(h,r),h.enabled=function(){return a.enabled()},h.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},t.exports=h},function(t,e,n){"use strict";var r=n(4),i=n(7),s=n(5),o=n(106),a=n(50),c=n(13),u=n(49);t.exports=function(t,e){var n,h={};e.forEach(function(t){t.facadeTransport&&(h[t.facadeTransport.transportName]=t.facadeTransport)}),h[a.transportName]=a,t.bootstrap_iframe=function(){var e;c.currentWindowId=u.hash.slice(1),i.attachEvent("message",function(i){if(i.source===parent&&(void 0===n&&(n=i.origin),i.origin===n)){var a;try{a=s.parse(i.data)}catch(t){return void i.data}if(a.windowId===c.currentWindowId)switch(a.type){case"s":var l;try{l=s.parse(a.data)}catch(t){a.data;break}var f=l[0],p=l[1],d=l[2],_=l[3];if(f!==t.version)throw new Error('Incompatible SockJS! Main site uses: "'+f+'", the iframe: "'+t.version+'".');if(!r.isOriginEqual(d,u.href)||!r.isOriginEqual(_,u.href))throw new Error("Can't connect to different domain from within an iframe. ("+u.href+", "+d+", "+_+")");e=new o(new h[p](d,_));break;case"m":e._send(a.data);break;case"c":e&&e._close(),e=null}}}),c.postMessage("s")}}},function(t,e,n){"use strict";var r=n(5),i=n(13);function s(t){this._transport=t,t.on("message",this._transportMessage.bind(this)),t.on("close",this._transportClose.bind(this))}s.prototype._transportClose=function(t,e){i.postMessage("c",r.stringify([t,e]))},s.prototype._transportMessage=function(t){i.postMessage("t",t)},s.prototype._send=function(t){this._transport.send(t)},s.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},t.exports=s},function(t,e,n){t.exports=function(){"use strict";var t=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},e=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),n=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){i=!0,s=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw s}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r={V1_0:"1.0",V1_1:"1.1",V1_2:"1.2",supportedVersions:function(){return"1.2,1.1,1.0"},supportedProtocols:function(){return["v10.stomp","v11.stomp","v12.stomp"]}},i={"v10.stomp":r.V1_0,"v11.stomp":r.V1_1,"v12.stomp":r.V1_2},s="\n",o="\0",a=function(t){return t.replace(/^\s+|\s+$/g,"")};function c(){return(new Date).getTime()+"-"+Math.floor(1e3*Math.random())}var u=function(){function n(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t(this,n),this.command=e,this.headers=r,this.body=i}return e(n,[{key:"toString",value:function(){var t=this,e=[this.command],n=!1===this.headers["content-length"];return n&&delete this.headers["content-length"],Object.keys(this.headers).forEach(function(n){var r=t.headers[n];e.push(n+":"+r)}),this.body&&!n&&e.push("content-length:"+function(t){return t?encodeURIComponent(t).match(/%..|./g).length:0}(this.body)),e.push(s+this.body),e.join(s)}}],[{key:"unmarshallSingle",value:function(t){var e=t.search(new RegExp(s+s)),r=t.substring(0,e).split(s),i=r.shift(),c={},u="",h=e+2,l=!0,f=!1,p=void 0;try{for(var d,_=r.reverse()[Symbol.iterator]();!(l=(d=_.next()).done);l=!0){var v=d.value,m=v.indexOf(":");c[a(v.substring(0,m))]=a(v.substring(m+1))}}catch(t){f=!0,p=t}finally{try{!l&&_.return&&_.return()}finally{if(f)throw p}}if(c["content-length"]){var g=parseInt(c["content-length"],10);u=(""+t).substring(h,h+g)}else for(var y=null,b=h;b<t.length&&(y=t.charAt(b))!==o;b++)u+=y;return new n(i,c,u)}},{key:"unmarshall",value:function(t){var e=t.split(new RegExp(o+s+"*")),r=e.slice(0,-1),i=e.slice(-1)[0],a={frames:r.map(function(t){return n.unmarshallSingle(t)}),partial:""};return i===s||-1!==i.search(RegExp(o+s+"*$"))?a.frames.push(n.unmarshallSingle(i)):a.partial=i,a}},{key:"marshall",value:function(t,e,r){return new n(t,e,r).toString()+o}}]),n}(),h=function(){function o(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t(this,o);var r=n.binary,i=void 0!==r&&r,s=n.heartbeat,a=void 0===s?{outgoing:1e4,incoming:1e4}:s,c=n.debug,u=void 0===c||c;this.ws=e,this.ws.binaryType="arraybuffer",this.isBinary=!!i,this.hasDebug=!!u,this.connected=!1,this.heartbeat=a||{outgoing:0,incoming:0},this.maxWebSocketFrameSize=16384,this.subscriptions={},this.partialData=""}return e(o,[{key:"debug",value:function(){var t;this.hasDebug&&(t=console).log.apply(t,arguments)}},{key:"connect",value:function(){var t=this,e=this._parseConnect.apply(this,arguments),o=n(e,3),a=o[0],c=o[1],h=o[2];this.connectCallback=c,this.debug("Opening Web Socket..."),this.ws.onmessage=function(e){var n=e.data;if(e.data instanceof ArrayBuffer&&(n=function(t){var e=String.fromCharCode.apply(String,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t)).replace(/(.)/g,function(t,e){var n=e.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n});return decodeURIComponent(e)}(new Uint8Array(e.data))),t.serverActivity=Date.now(),n!==s){t.debug("<<< "+n);var i=u.unmarshall(t.partialData+n);t.partialData=i.partial,i.frames.forEach(function(e){switch(e.command){case"CONNECTED":t.debug("connected to server "+e.headers.server),t.connected=!0,t.version=e.headers.version,t._setupHeartbeat(e.headers),c&&c(e);break;case"MESSAGE":var n=e.headers.subscription,i=t.subscriptions[n]||t.onreceive;if(i){var s=t.version===r.V1_2&&e.headers.ack||e.headers["message-id"];e.ack=t.ack.bind(t,s,n),e.nack=t.nack.bind(t,s,n),i(e)}else t.debug("Unhandled received MESSAGE: "+e);break;case"RECEIPT":t.onreceipt&&t.onreceipt(e);break;case"ERROR":h&&h(e);break;default:t.debug("Unhandled frame: "+e)}})}else t.debug("<<< PONG")},this.ws.onclose=function(e){t.debug("Whoops! Lost connection to "+t.ws.url+":",{event:e}),t._cleanUp(),h&&h(e)},this.ws.onopen=function(){t.debug("Web Socket Opened..."),a["accept-version"]=function(t){var e=i[t];return e||console.warn("DEPRECATED: "+t+" is not a recognized STOMP version. In next major client version, this will close the connection."),e||r.supportedVersions()}(t.ws.protocol),a["heart-beat"]||(a["heart-beat"]=[t.heartbeat.outgoing,t.heartbeat.incoming].join(",")),t._transmit("CONNECT",a)},this.ws.readyState===this.ws.OPEN&&this.ws.onopen()}},{key:"disconnect",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._transmit("DISCONNECT",e),this.ws.onclose=null,this.ws.close(),this._cleanUp(),t&&t()}},{key:"send",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.assign({},n);r.destination=t,this._transmit("SEND",r,e)}},{key:"begin",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"tx-"+c();return this._transmit("BEGIN",{transaction:t}),{id:t,commit:this.commit.bind(this,t),abort:this.abort.bind(this,t)}}},{key:"commit",value:function(t){this._transmit("COMMIT",{transaction:t})}},{key:"abort",value:function(t){this._transmit("ABORT",{transaction:t})}},{key:"ack",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Object.assign({},n);i[this.version===r.V1_2?"id":"message-id"]=t,i.subscription=e,this._transmit("ACK",i)}},{key:"nack",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Object.assign({},n);i[this.version===r.V1_2?"id":"message-id"]=t,i.subscription=e,this._transmit("NACK",i)}},{key:"subscribe",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.assign({},n);return r.id||(r.id="sub-"+c()),r.destination=t,this.subscriptions[r.id]=e,this._transmit("SUBSCRIBE",r),{id:r.id,unsubscribe:this.unsubscribe.bind(this,r.id)}}},{key:"unsubscribe",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},e);delete this.subscriptions[t],n.id=t,this._transmit("UNSUBSCRIBE",n)}},{key:"_cleanUp",value:function(){this.connected=!1,clearInterval(this.pinger),clearInterval(this.ponger)}},{key:"_transmit",value:function(t,e,n){var r=u.marshall(t,e,n);this.debug(">>> "+r,{frame:{command:t,headers:e,body:n}}),this._wsSend(r)}},{key:"_wsSend",value:function(t){for(this.isBinary&&(t=function(t){var e=encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,function(t,e){return String.fromCharCode("0x"+e)}),n=Array.prototype.map.call(e,function(t){return t.charCodeAt(0)});return new Uint8Array(n)}(t)),this.debug(">>> length "+t.length);;){if(!(t.length>this.maxWebSocketFrameSize))return this.ws.send(t);this.ws.send(t.slice(0,this.maxWebSocketFrameSize)),t=t.slice(this.maxWebSocketFrameSize),this.debug("remaining = "+t.length)}}},{key:"_setupHeartbeat",value:function(t){var e=this;if(this.version===r.V1_1||this.version===r.V1_2){var i=(t["heart-beat"]||"0,0").split(",").map(function(t){return parseInt(t,10)}),o=n(i,2),a=o[0],c=o[1];if(0!==this.heartbeat.outgoing&&0!==c){var u=Math.max(this.heartbeat.outgoing,c);this.debug("send PING every "+u+"ms"),this.pinger=setInterval(function(){e._wsSend(s),e.debug(">>> PING")},u)}if(0!==this.heartbeat.incoming&&0!==a){var h=Math.max(this.heartbeat.incoming,a);this.debug("check PONG every "+h+"ms"),this.ponger=setInterval(function(){var t=Date.now()-e.serverActivity;t>2*h&&(e.debug("did not receive server activity for the last "+t+"ms"),e.ws.close())},h)}}}},{key:"_parseConnect",value:function(){for(var t={},e=void 0,n=void 0,r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];switch(i.length){case 2:t=i[0],e=i[1];break;case 3:i[1]instanceof Function?(t=i[0],e=i[1],n=i[2]):(t.login=i[0],t.passcode=i[1],e=i[2]);break;case 4:t.login=i[0],t.passcode=i[1],e=i[2],n=i[3];break;default:t.login=i[0],t.passcode=i[1],e=i[2],n=i[3],t.host=i[4]}return[t,e,n]}}]),o}();return{Frame:u,VERSIONS:r,client:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new WebSocket(t,e.protocols||r.supportedProtocols());return new h(n,e)},over:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return new(Function.prototype.bind.apply(h,[null].concat(e)))}}}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.onConnecting=function(t,e){return"connecting to url "+t+" for identity "+e},t.prototype.onConnected=function(t,e){return"connected to url "+t+" for identity "+e},t.prototype.onDisconnecting=function(t,e){return"disconnecting from url "+t+" for identity "+e},t.prototype.onDisconnected=function(t,e){return"disconnected from url "+t+" for identity "+e},t.prototype.onReconnecting=function(t,e){return"reconnecting to url "+t+" for identity "+e},t.prototype.onError=function(t){return t},t.prototype.onMessage=function(t){return t},t}();e.Emitter=r},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(29),s=n(30),o=n(3);n(116),n(31),n(32);var a=function(t){function e(e){var n=t.call(this,name)||this;return n.name="BLOCK",n.message=e,n.position=e.position,n}return r(e,t),e.prototype.render=function(t,n){var r=this.position||"left",o=document.createElement("div");o.classList.add("block"),o.classList.add(r),o.appendChild(s.Timestamp.render()),e.renderElements(o,this.message,n),t.appendChild(new i.Icon(r).render()),t.appendChild(o)},e}(o.MarkupComponent);e.Block=a},function(t,e,n){},,function(t,e,n){},,function(t,e,n){},,function(t,e,n){},,,,function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(6);n(121);var s=function(t){function e(e){var n=t.call(this,name)||this;return n.name="BOLD",n.text=e.text,n}return r(e,t),e.prototype.render=function(t){var e=document.createElement("b");e.classList.add("bold"),e.appendChild(new i.InlineText(this.text).render()),t.appendChild(e)},e}(n(3).MarkupComponent);e.Bold=s},function(t,e,n){},,function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),s=n(3);n(124),n(31),n(32);var o=function(t){function e(e){var n=t.call(this,name)||this;return n.name="BUTTON",n.text=e.text,n.buttonName=e.name,n.value=e.value,n.position=e.position,n}return r(e,t),e.prototype.render=function(t,n){var r=this.position||"left",s=document.createElement("button");s.setAttribute("name",this.buttonName),e.isNested(t)?s.classList.add("button-nested",r):s.classList.add("button",r),s.appendChild(new i.InlineText(this.text).render()),t.appendChild(s);var o=this.text,a=this.buttonName,c=this.value;s.addEventListener("click",function(){n({type:"button",text:o,name:a,value:c})})},e}(s.MarkupComponent);e.Button=o},function(t,e,n){},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6);n(127);var i=function(){function t(t){this.name="CHECKBOX",this.text=t.text,this.value=t.value,this.position=t.position}return t.prototype.render=function(t){var e=this.position||"left",n=document.createElement("input");n.classList.add("checkbox",e),n.setAttribute("type","checkbox"),n.setAttribute("name",this.name),n.appendChild(new r.InlineText(this.text).render()),t.appendChild(n)},t}();e.Checkbox=i},function(t,e,n){},,function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(3);n(130);var s=function(t){function e(e){var n=t.call(this,name)||this;return n.name="COL",n.message=e,n}return r(e,t),e.prototype.render=function(t,n){var r=document.createElement("td");r.classList.add("col"),e.renderElements(r,this.message,n),t.appendChild(r)},e}(i.MarkupComponent);e.Col=s},function(t,e,n){},,function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),s=n(3);n(133);var o=function(t){function e(e){var n=t.call(this,name)||this;return n.name="HEADLINE",n.message=e,n.text=e.text,n.position=e.position,n}return r(e,t),e.prototype.render=function(t){var e=this.position||"left",n=document.createElement("h2");n.classList.add("headline",e),n.appendChild(new i.InlineText(this.text).render()),t.appendChild(n)},e}(s.MarkupComponent);e.Headline=o},function(t,e,n){},,function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(3);n(136);var s=function(t){function e(e){var n=t.call(this,name)||this;return n.name="IMAGE",n.source=e.source,n.text=e.text,n.width=e.width||"auto",n.height=e.height||"auto",n}return r(e,t),e.prototype.render=function(t){var e=document.createElement("img");e.setAttribute("src",this.source),e.setAttribute("alt",this.text),e.setAttribute("width",this.width),e.setAttribute("height",this.height),e.classList.add("image"),t.appendChild(e)},e}(i.MarkupComponent);e.Image=s},function(t,e,n){},,function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),s=n(3);n(139);var o=function(t){function e(e){var n=t.call(this,name)||this;return n.name="ITEM",n.text=e.text,n}return r(e,t),e.prototype.render=function(t){var e=document.createElement("li");e.classList.add("item"),e.appendChild(new i.InlineText(this.text).render()),t.appendChild(e)},e}(s.MarkupComponent);e.Item=o},function(t,e,n){},,function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(3);n(142);var s=function(t){function e(e){var n=t.call(this,name)||this;return n.name="ITEMS",n.elements=e.elements,n}return r(e,t),e.prototype.render=function(t,n){var r=document.createElement("ul");r.classList.add("items"),e.renderElements(r,this.elements,n),t.appendChild(r)},e}(i.MarkupComponent);e.Items=s},function(t,e,n){},,function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),s=n(3);n(145);var o=function(t){function e(e){var n=t.call(this,name)||this;return n.name="LINK",n.text=e.text,n.value=e.value,n}return r(e,t),e.prototype.render=function(t){var e=document.createElement("a");e.setAttribute("href",this.value),e.classList.add("link"),e.appendChild(new i.InlineText(this.text).render()),t.appendChild(e)},e}(s.MarkupComponent);e.Link=o},function(t,e,n){},,function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(3);n(148);var s=function(t){function e(e){var n=t.call(this,name)||this;return n.name="ROW",n.message=e,n}return r(e,t),e.prototype.render=function(t,n){var r=document.createElement("tr");r.classList.add("row"),e.renderElements(r,this.message,n),t.appendChild(r)},e}(i.MarkupComponent);e.Row=s},function(t,e,n){},,function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),s=n(3);n(31),n(32),n(151);var o=function(t){function e(e){var n=t.call(this,name)||this;return n.name="SUBMIT",n.text=e.text,n.position=e.position,n.timestamp=e.timestamp,n}return r(e,t),e.closestByClass=function(t,e){for(;t.className!==e;)if(!(t=t.parentNode))return null;return t},e.prototype.render=function(t,n){var r=this.position||"left",s=document.createElement("button");e.isNested(t)?s.classList.add("submit-nested",r):s.classList.add("submit",r),s.appendChild(new i.InlineText(this.text).render()),t.appendChild(s);var o=this.text,a=this.timestamp;s.addEventListener("click",function(t){var r={};e.closestByClass(t,"message-content").querySelectorAll("input[type='checkbox']").forEach(function(t,e){if(!0===e.checked){var n=e.getAttribute("name"),i=e.getAttribute("value");void 0!==r[n]?r[n].push(i):r[n]=[i]}}),n({type:"submit",position:"right",timestamp:a,text:o,attributes:r})})},e}(s.MarkupComponent);e.Submit=o},function(t,e,n){},,function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(29),s=n(30),o=function(t){function e(e){var n=t.call(this,name)||this;return n.name="TABLE",n.message=e,n.position=e.position,n}return r(e,t),e.prototype.render=function(t,n){var r=document.createElement("table");if(e.isNested(t))r.classList.add("table-nested"),e.renderElements(r,this.message,n);else{var o=this.position||"left";r.classList.add("table",o),r.appendChild(s.Timestamp.render()),e.renderElements(r,this.message,n),t.appendChild(new i.Icon(o).render())}t.appendChild(r)},e}(n(3).MarkupComponent);e.Table=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(29),s=n(6),o=n(30),a=function(t){function e(e){var n=t.call(this,name)||this;return n.name="TEXT",n.text=e.text,n.position=e.position,n}return r(e,t),e.prototype.render=function(t){if(e.isNested(t))t.appendChild(new s.InlineText(this.text).render());else{var n=this.position||"left",r=document.createElement("div");r.classList.add("text",n),r.appendChild(o.Timestamp.render()),r.appendChild(new s.InlineText(this.text).render()),t.appendChild(new i.Icon(n).render()),t.appendChild(r)}},e}(n(3).MarkupComponent);e.Text=a},function(t,e,n){}]).default});